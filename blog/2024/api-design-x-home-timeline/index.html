<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.10.0"/><meta data-react-helmet="true" name="description" content="An exploration of how X&#x27;s home timeline API is designed"/><meta data-react-helmet="true" name="image" content="https://trekhleb.dev/static/6c3fe261d3b0a2dfbaa7d2e03447f6d6/f5b5d/01-cover.png"/><meta data-react-helmet="true" property="og:title" content="API Design of X (Twitter) Home Timeline | Trekhleb"/><meta data-react-helmet="true" property="og:description" content="An exploration of how X&#x27;s home timeline API is designed"/><meta data-react-helmet="true" property="og:url" content="https://trekhleb.dev/blog/2024/api-design-x-home-timeline/"/><meta data-react-helmet="true" property="og:image" content="https://trekhleb.dev/static/6c3fe261d3b0a2dfbaa7d2e03447f6d6/f5b5d/01-cover.png"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@Trekhleb"/><meta data-react-helmet="true" name="twitter:title" content="API Design of X (Twitter) Home Timeline | Trekhleb"/><meta data-react-helmet="true" name="twitter:description" content="An exploration of how X&#x27;s home timeline API is designed"/><meta data-react-helmet="true" name="twitter:image" content="https://trekhleb.dev/static/6c3fe261d3b0a2dfbaa7d2e03447f6d6/f5b5d/01-cover.png"/><meta data-react-helmet="true" name="twitter:url" content="https://trekhleb.dev/blog/2024/api-design-x-home-timeline/"/><style data-href="/styles.ca827ea6641e6e29980d.css" data-identity="gatsby-global-css">@import url(https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap);.prose blockquote p:first-of-type:before,.prose blockquote p:last-of-type:after,.prose code:after,.prose code:before{content:""!important}.prose blockquote{font-weight:400!important}.prose li code.language-text,.prose p code.language-text,.prose td code.language-text,.prose th code.language-text,.prose tr code.language-text{font-weight:400;padding:2px 5px 1px}.prose code{font-size:13px!important}.prose p>img{margin:auto}.prose h1>a.gatsby-remark-autolink-header-anchor,.prose h2>a.gatsby-remark-autolink-header-anchor,.prose h3>a.gatsby-remark-autolink-header-anchor,.prose h4>a.gatsby-remark-autolink-header-anchor,.prose h5>a.gatsby-remark-autolink-header-anchor{display:inline-block;margin-left:10px;visibility:hidden}.prose h1:hover>a.gatsby-remark-autolink-header-anchor,.prose h2:hover>a.gatsby-remark-autolink-header-anchor,.prose h3:hover>a.gatsby-remark-autolink-header-anchor,.prose h4:hover>a.gatsby-remark-autolink-header-anchor,.prose h5:hover>a.gatsby-remark-autolink-header-anchor{visibility:visible}.shared-tooltip-content a{text-decoration:underline}.shared-tooltip-content p:not(:last-child){margin-bottom:10px}

/* ! tailwindcss v3.3.2 | MIT License | https://tailwindcss.com */*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:Roboto,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.prose{color:var(--tw-prose-body);max-width:65ch}.prose :where(p):not(:where([class~=not-prose] *)){margin-bottom:1.25em;margin-top:1.25em}.prose :where([class~=lead]):not(:where([class~=not-prose] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-bottom:1.2em;margin-top:1.2em}.prose :where(a):not(:where([class~=not-prose] *)){color:#dc2626;font-weight:500;text-decoration:underline}.prose :where(a):not(:where([class~=not-prose] *)):hover{color:#ef4444}.prose :where(strong):not(:where([class~=not-prose] *)){color:var(--tw-prose-bold);font-weight:600}.prose :where(a strong):not(:where([class~=not-prose] *)){color:inherit}.prose :where(blockquote strong):not(:where([class~=not-prose] *)){color:inherit}.prose :where(thead th strong):not(:where([class~=not-prose] *)){color:inherit}.prose :where(ol):not(:where([class~=not-prose] *)){list-style-type:decimal;margin-bottom:1.25em;margin-top:1.25em;padding-left:1.625em}.prose :where(ol[type=A]):not(:where([class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a]):not(:where([class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=A s]):not(:where([class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a s]):not(:where([class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=I]):not(:where([class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i]):not(:where([class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type=I s]):not(:where([class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i s]):not(:where([class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose] *)){list-style-type:disc;margin-bottom:1.25em;margin-top:1.25em;padding-left:1.625em}.prose :where(ol>li):not(:where([class~=not-prose] *))::marker{color:var(--tw-prose-counters);font-weight:400}.prose :where(ul>li):not(:where([class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.prose :where(hr):not(:where([class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-bottom:3em;margin-top:3em}.prose :where(blockquote):not(:where([class~=not-prose] *)){border-left-color:var(--tw-prose-quote-borders);border-left-width:.25rem;color:var(--tw-prose-quotes);font-style:italic;font-weight:500;margin-bottom:1.6em;margin-top:1.6em;padding-left:1em;quotes:"\201C""\201D""\2018""\2019"}.prose :where(blockquote p:first-of-type):not(:where([class~=not-prose] *)):before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~=not-prose] *)):after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:2.25em;font-weight:800;line-height:1.1111111;margin-bottom:.8888889em;margin-top:0}.prose :where(h1 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:900}.prose :where(h2):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.5em;font-weight:700;line-height:1.3333333;margin-bottom:1em;margin-top:2em}.prose :where(h2 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:800}.prose :where(h3):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.25em;font-weight:600;line-height:1.6;margin-bottom:.6em;margin-top:1.6em}.prose :where(h3 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(h4):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;line-height:1.5;margin-bottom:.5em;margin-top:1.5em}.prose :where(h4 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(img):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(figure>*):not(:where([class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose :where(figcaption):not(:where([class~=not-prose] *)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose :where(code):not(:where([class~=not-prose] *)){color:var(--tw-prose-code);font-size:.875em;font-weight:600}.prose :where(code):not(:where([class~=not-prose] *)):before{content:"`"}.prose :where(code):not(:where([class~=not-prose] *)):after{content:"`"}.prose :where(a code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(h1 code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(h2 code):not(:where([class~=not-prose] *)){color:inherit;font-size:.875em}.prose :where(h3 code):not(:where([class~=not-prose] *)){color:inherit;font-size:.9em}.prose :where(h4 code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(blockquote code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(thead th code):not(:where([class~=not-prose] *)){color:inherit}.prose :where(pre):not(:where([class~=not-prose] *)){background-color:var(--tw-prose-pre-bg);border-radius:.375rem;color:var(--tw-prose-pre-code);font-size:.875em;font-weight:400;line-height:1.7142857;margin-bottom:1.7142857em;margin-top:1.7142857em;overflow-x:auto;padding:.8571429em 1.1428571em}.prose :where(pre code):not(:where([class~=not-prose] *)){background-color:transparent;border-radius:0;border-width:0;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.prose :where(pre code):not(:where([class~=not-prose] *)):before{content:none}.prose :where(pre code):not(:where([class~=not-prose] *)):after{content:none}.prose :where(table):not(:where([class~=not-prose] *)){font-size:.875em;line-height:1.7142857;margin-bottom:2em;margin-top:2em;table-layout:auto;text-align:left;width:100%}.prose :where(thead):not(:where([class~=not-prose] *)){border-bottom-color:var(--tw-prose-th-borders);border-bottom-width:1px}.prose :where(thead th):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;padding-bottom:.5714286em;padding-left:.5714286em;padding-right:.5714286em;vertical-align:bottom}.prose :where(tbody tr):not(:where([class~=not-prose] *)){border-bottom-color:var(--tw-prose-td-borders);border-bottom-width:1px}.prose :where(tbody tr:last-child):not(:where([class~=not-prose] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~=not-prose] *)){vertical-align:baseline}.prose :where(tfoot):not(:where([class~=not-prose] *)){border-top-color:var(--tw-prose-th-borders);border-top-width:1px}.prose :where(tfoot td):not(:where([class~=not-prose] *)){vertical-align:top}.prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:rgba(0,0,0,.5);--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.prose :where(video):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(figure):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(li):not(:where([class~=not-prose] *)){margin-bottom:.5em;margin-top:.5em}.prose :where(ol>li):not(:where([class~=not-prose] *)){padding-left:.375em}.prose :where(ul>li):not(:where([class~=not-prose] *)){padding-left:.375em}.prose :where(.prose>ul>li p):not(:where([class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(.prose>ul>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ul>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.25em}.prose :where(.prose>ol>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ol>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(hr+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h2+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h3+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h4+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose :where(thead th:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose :where(tbody td,tfoot td):not(:where([class~=not-prose] *)){padding:.5714286em}.prose :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose :where(.prose>:first-child):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(.prose>:last-child):not(:where([class~=not-prose] *)){margin-bottom:0}.prose-sm{font-size:.875rem;line-height:1.7142857}.prose-sm :where(p):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em;margin-top:1.1428571em}.prose-sm :where([class~=lead]):not(:where([class~=not-prose] *)){font-size:1.2857143em;line-height:1.5555556;margin-bottom:.8888889em;margin-top:.8888889em}.prose-sm :where(blockquote):not(:where([class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em;padding-left:1.1111111em}.prose-sm :where(h1):not(:where([class~=not-prose] *)){font-size:2.1428571em;line-height:1.2;margin-bottom:.8em;margin-top:0}.prose-sm :where(h2):not(:where([class~=not-prose] *)){font-size:1.4285714em;line-height:1.4;margin-bottom:.8em;margin-top:1.6em}.prose-sm :where(h3):not(:where([class~=not-prose] *)){font-size:1.2857143em;line-height:1.5555556;margin-bottom:.4444444em;margin-top:1.5555556em}.prose-sm :where(h4):not(:where([class~=not-prose] *)){line-height:1.4285714;margin-bottom:.5714286em;margin-top:1.4285714em}.prose-sm :where(img):not(:where([class~=not-prose] *)){margin-bottom:1.7142857em;margin-top:1.7142857em}.prose-sm :where(video):not(:where([class~=not-prose] *)){margin-bottom:1.7142857em;margin-top:1.7142857em}.prose-sm :where(figure):not(:where([class~=not-prose] *)){margin-bottom:1.7142857em;margin-top:1.7142857em}.prose-sm :where(figure>*):not(:where([class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose-sm :where(figcaption):not(:where([class~=not-prose] *)){font-size:.8571429em;line-height:1.3333333;margin-top:.6666667em}.prose-sm :where(code):not(:where([class~=not-prose] *)){font-size:.8571429em}.prose-sm :where(h2 code):not(:where([class~=not-prose] *)){font-size:.9em}.prose-sm :where(h3 code):not(:where([class~=not-prose] *)){font-size:.8888889em}.prose-sm :where(pre):not(:where([class~=not-prose] *)){border-radius:.25rem;font-size:.8571429em;line-height:1.6666667;margin-bottom:1.6666667em;margin-top:1.6666667em;padding:.6666667em 1em}.prose-sm :where(ol):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em;margin-top:1.1428571em;padding-left:1.5714286em}.prose-sm :where(ul):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em;margin-top:1.1428571em;padding-left:1.5714286em}.prose-sm :where(li):not(:where([class~=not-prose] *)){margin-bottom:.2857143em;margin-top:.2857143em}.prose-sm :where(ol>li):not(:where([class~=not-prose] *)){padding-left:.4285714em}.prose-sm :where(ul>li):not(:where([class~=not-prose] *)){padding-left:.4285714em}.prose-sm :where(.prose-sm>ul>li p):not(:where([class~=not-prose] *)){margin-bottom:.5714286em;margin-top:.5714286em}.prose-sm :where(.prose-sm>ul>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.1428571em}.prose-sm :where(.prose-sm>ul>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em}.prose-sm :where(.prose-sm>ol>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.1428571em}.prose-sm :where(.prose-sm>ol>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.1428571em}.prose-sm :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose] *)){margin-bottom:.5714286em;margin-top:.5714286em}.prose-sm :where(hr):not(:where([class~=not-prose] *)){margin-bottom:2.8571429em;margin-top:2.8571429em}.prose-sm :where(hr+*):not(:where([class~=not-prose] *)){margin-top:0}.prose-sm :where(h2+*):not(:where([class~=not-prose] *)){margin-top:0}.prose-sm :where(h3+*):not(:where([class~=not-prose] *)){margin-top:0}.prose-sm :where(h4+*):not(:where([class~=not-prose] *)){margin-top:0}.prose-sm :where(table):not(:where([class~=not-prose] *)){font-size:.8571429em;line-height:1.5}.prose-sm :where(thead th):not(:where([class~=not-prose] *)){padding-bottom:.6666667em;padding-left:1em;padding-right:1em}.prose-sm :where(thead th:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose-sm :where(thead th:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose-sm :where(tbody td,tfoot td):not(:where([class~=not-prose] *)){padding:.6666667em 1em}.prose-sm :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose-sm :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose-sm :where(.prose-sm>:first-child):not(:where([class~=not-prose] *)){margin-top:0}.prose-sm :where(.prose-sm>:last-child):not(:where([class~=not-prose] *)){margin-bottom:0}.prose-red{--tw-prose-links:#dc2626;--tw-prose-invert-links:#ef4444}.visible{visibility:visible}.invisible{visibility:hidden}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-y-0{bottom:0;top:0}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.z-10{z-index:10}.m-auto{margin:auto}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-0{margin-bottom:0}.mb-1{margin-bottom:.25rem}.mb-12{margin-bottom:3rem}.mb-2{margin-bottom:.5rem}.mb-24{margin-bottom:6rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.ml-0{margin-left:0}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-3{margin-left:.75rem}.ml-4{margin-left:1rem}.ml-5{margin-left:1.25rem}.mr-0{margin-right:0}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mr-4{margin-right:1rem}.mr-5{margin-right:1.25rem}.mr-6{margin-right:1.5rem}.mt-1{margin-top:.25rem}.mt-16{margin-top:4rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-0{height:0}.h-0\.5{height:.125rem}.h-16{height:4rem}.h-4{height:1rem}.h-48{height:12rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-96{height:24rem}.h-full{height:100%}.w-1{width:.25rem}.w-10{width:2.5rem}.w-14{width:3.5rem}.w-16{width:4rem}.w-2{width:.5rem}.w-36{width:9rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-full{width:100%}.w-screen{width:100vw}.max-w-md{max-width:28rem}.max-w-screen-xl{max-width:1280px}.flex-1{flex:1 1 0%}.shrink{flex-shrink:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes spin{to{transform:rotate(1turn)}}.animate-spin{animation:spin 1s linear infinite}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize{resize:both}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-items-center{justify-items:center}.gap-1{gap:.25rem}.gap-12{gap:3rem}.self-start{align-self:flex-start}.self-stretch{align-self:stretch}.justify-self-end{justify-self:end}.overflow-hidden{overflow:hidden}.overflow-scroll{overflow:scroll}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-sm{border-radius:.125rem}.border{border-width:1px}.border-4{border-width:4px}.border-b-2{border-bottom-width:2px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-black{--tw-border-opacity:1;border-color:rgb(0 0 0/var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity))}.border-gray-400{--tw-border-opacity:1;border-color:rgb(156 163 175/var(--tw-border-opacity))}.border-red-600{--tw-border-opacity:1;border-color:rgb(220 38 38/var(--tw-border-opacity))}.border-slate-400{--tw-border-opacity:1;border-color:rgb(148 163 184/var(--tw-border-opacity))}.border-white{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.bg-blue-100{--tw-bg-opacity:1;background-color:rgb(219 234 254/var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity:1;background-color:rgb(156 163 175/var(--tw-bg-opacity))}.bg-orange-100{--tw-bg-opacity:1;background-color:rgb(255 237 213/var(--tw-bg-opacity))}.bg-orange-500{--tw-bg-opacity:1;background-color:rgb(249 115 22/var(--tw-bg-opacity))}.bg-red-100{--tw-bg-opacity:1;background-color:rgb(254 226 226/var(--tw-bg-opacity))}.bg-rose-200{--tw-bg-opacity:1;background-color:rgb(254 205 211/var(--tw-bg-opacity))}.bg-rose-500{--tw-bg-opacity:1;background-color:rgb(244 63 94/var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity:1;background-color:rgb(241 245 249/var(--tw-bg-opacity))}.bg-slate-200{--tw-bg-opacity:1;background-color:rgb(226 232 240/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-cover{background-size:cover}.p-3{padding:.75rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-12{padding-bottom:3rem;padding-top:3rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-3{padding-bottom:.75rem;padding-top:.75rem}.py-6{padding-top:1.5rem}.pb-6,.py-6{padding-bottom:1.5rem}.pt-4{padding-top:1rem}.text-center{text-align:center}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-light{font-weight:300}.font-medium{font-weight:500}.font-normal{font-weight:400}.uppercase{text-transform:uppercase}.italic{font-style:italic}.leading-4{line-height:1rem}.tracking-wider{letter-spacing:.05em}.tracking-widest{letter-spacing:.1em}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235/var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81/var(--tw-text-opacity))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38/var(--tw-text-opacity))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.no-underline{text-decoration-line:none}.underline-offset-2{text-underline-offset:2px}.opacity-0{opacity:0}.opacity-100{opacity:1}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow,.shadow-card{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-card{--tw-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);--tw-shadow-colored:0 2px 1px -1px var(--tw-shadow-color),0 1px 1px 0 var(--tw-shadow-color),0 1px 3px 0 var(--tw-shadow-color)}.shadow-inner{--tw-shadow:inset 0 2px 4px 0 rgba(0,0,0,.05);--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color)}.shadow-inner,.shadow-md{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.drop-shadow-md{--tw-drop-shadow:drop-shadow(0 4px 3px rgba(0,0,0,.07)) drop-shadow(0 2px 2px rgba(0,0,0,.06))}.drop-shadow-md,.grayscale{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale:grayscale(100%)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-200{transition-duration:.2s}.duration-500{transition-duration:.5s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}@media (min-width:640px){.sm\:prose{color:var(--tw-prose-body);max-width:65ch}.sm\:prose :where(p):not(:where([class~=not-prose] *)){margin-bottom:1.25em;margin-top:1.25em}.sm\:prose :where([class~=lead]):not(:where([class~=not-prose] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-bottom:1.2em;margin-top:1.2em}.sm\:prose :where(a):not(:where([class~=not-prose] *)){color:#dc2626;font-weight:500;text-decoration:underline}.sm\:prose :where(a):not(:where([class~=not-prose] *)):hover{color:#ef4444}.sm\:prose :where(strong):not(:where([class~=not-prose] *)){color:var(--tw-prose-bold);font-weight:600}.sm\:prose :where(a strong):not(:where([class~=not-prose] *)){color:inherit}.sm\:prose :where(blockquote strong):not(:where([class~=not-prose] *)){color:inherit}.sm\:prose :where(thead th strong):not(:where([class~=not-prose] *)){color:inherit}.sm\:prose :where(ol):not(:where([class~=not-prose] *)){list-style-type:decimal;margin-bottom:1.25em;margin-top:1.25em;padding-left:1.625em}.sm\:prose :where(ol[type=A]):not(:where([class~=not-prose] *)){list-style-type:upper-alpha}.sm\:prose :where(ol[type=a]):not(:where([class~=not-prose] *)){list-style-type:lower-alpha}.sm\:prose :where(ol[type=A s]):not(:where([class~=not-prose] *)){list-style-type:upper-alpha}.sm\:prose :where(ol[type=a s]):not(:where([class~=not-prose] *)){list-style-type:lower-alpha}.sm\:prose :where(ol[type=I]):not(:where([class~=not-prose] *)){list-style-type:upper-roman}.sm\:prose :where(ol[type=i]):not(:where([class~=not-prose] *)){list-style-type:lower-roman}.sm\:prose :where(ol[type=I s]):not(:where([class~=not-prose] *)){list-style-type:upper-roman}.sm\:prose :where(ol[type=i s]):not(:where([class~=not-prose] *)){list-style-type:lower-roman}.sm\:prose :where(ol[type="1"]):not(:where([class~=not-prose] *)){list-style-type:decimal}.sm\:prose :where(ul):not(:where([class~=not-prose] *)){list-style-type:disc;margin-bottom:1.25em;margin-top:1.25em;padding-left:1.625em}.sm\:prose :where(ol>li):not(:where([class~=not-prose] *))::marker{color:var(--tw-prose-counters);font-weight:400}.sm\:prose :where(ul>li):not(:where([class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.sm\:prose :where(hr):not(:where([class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-bottom:3em;margin-top:3em}.sm\:prose :where(blockquote):not(:where([class~=not-prose] *)){border-left-color:var(--tw-prose-quote-borders);border-left-width:.25rem;color:var(--tw-prose-quotes);font-style:italic;font-weight:500;margin-bottom:1.6em;margin-top:1.6em;padding-left:1em;quotes:"\201C""\201D""\2018""\2019"}.sm\:prose :where(blockquote p:first-of-type):not(:where([class~=not-prose] *)):before{content:open-quote}.sm\:prose :where(blockquote p:last-of-type):not(:where([class~=not-prose] *)):after{content:close-quote}.sm\:prose :where(h1):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:2.25em;font-weight:800;line-height:1.1111111;margin-bottom:.8888889em;margin-top:0}.sm\:prose :where(h1 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:900}.sm\:prose :where(h2):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.5em;font-weight:700;line-height:1.3333333;margin-bottom:1em;margin-top:2em}.sm\:prose :where(h2 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:800}.sm\:prose :where(h3):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.25em;font-weight:600;line-height:1.6;margin-bottom:.6em;margin-top:1.6em}.sm\:prose :where(h3 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:700}.sm\:prose :where(h4):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;line-height:1.5;margin-bottom:.5em;margin-top:1.5em}.sm\:prose :where(h4 strong):not(:where([class~=not-prose] *)){color:inherit;font-weight:700}.sm\:prose :where(img):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.sm\:prose :where(figure>*):not(:where([class~=not-prose] *)){margin-bottom:0;margin-top:0}.sm\:prose :where(figcaption):not(:where([class~=not-prose] *)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.sm\:prose :where(code):not(:where([class~=not-prose] *)){color:var(--tw-prose-code);font-size:.875em;font-weight:600}.sm\:prose :where(code):not(:where([class~=not-prose] *)):before{content:"`"}.sm\:prose :where(code):not(:where([class~=not-prose] *)):after{content:"`"}.sm\:prose :where(a code):not(:where([class~=not-prose] *)){color:inherit}.sm\:prose :where(h1 code):not(:where([class~=not-prose] *)){color:inherit}.sm\:prose :where(h2 code):not(:where([class~=not-prose] *)){color:inherit;font-size:.875em}.sm\:prose :where(h3 code):not(:where([class~=not-prose] *)){color:inherit;font-size:.9em}.sm\:prose :where(h4 code):not(:where([class~=not-prose] *)){color:inherit}.sm\:prose :where(blockquote code):not(:where([class~=not-prose] *)){color:inherit}.sm\:prose :where(thead th code):not(:where([class~=not-prose] *)){color:inherit}.sm\:prose :where(pre):not(:where([class~=not-prose] *)){background-color:var(--tw-prose-pre-bg);border-radius:.375rem;color:var(--tw-prose-pre-code);font-size:.875em;font-weight:400;line-height:1.7142857;margin-bottom:1.7142857em;margin-top:1.7142857em;overflow-x:auto;padding:.8571429em 1.1428571em}.sm\:prose :where(pre code):not(:where([class~=not-prose] *)){background-color:transparent;border-radius:0;border-width:0;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.sm\:prose :where(pre code):not(:where([class~=not-prose] *)):before{content:none}.sm\:prose :where(pre code):not(:where([class~=not-prose] *)):after{content:none}.sm\:prose :where(table):not(:where([class~=not-prose] *)){font-size:.875em;line-height:1.7142857;margin-bottom:2em;margin-top:2em;table-layout:auto;text-align:left;width:100%}.sm\:prose :where(thead):not(:where([class~=not-prose] *)){border-bottom-color:var(--tw-prose-th-borders);border-bottom-width:1px}.sm\:prose :where(thead th):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;padding-bottom:.5714286em;padding-left:.5714286em;padding-right:.5714286em;vertical-align:bottom}.sm\:prose :where(tbody tr):not(:where([class~=not-prose] *)){border-bottom-color:var(--tw-prose-td-borders);border-bottom-width:1px}.sm\:prose :where(tbody tr:last-child):not(:where([class~=not-prose] *)){border-bottom-width:0}.sm\:prose :where(tbody td):not(:where([class~=not-prose] *)){vertical-align:baseline}.sm\:prose :where(tfoot):not(:where([class~=not-prose] *)){border-top-color:var(--tw-prose-th-borders);border-top-width:1px}.sm\:prose :where(tfoot td):not(:where([class~=not-prose] *)){vertical-align:top}.sm\:prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:rgba(0,0,0,.5);--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.sm\:prose :where(video):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.sm\:prose :where(figure):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.sm\:prose :where(li):not(:where([class~=not-prose] *)){margin-bottom:.5em;margin-top:.5em}.sm\:prose :where(ol>li):not(:where([class~=not-prose] *)){padding-left:.375em}.sm\:prose :where(ul>li):not(:where([class~=not-prose] *)){padding-left:.375em}.sm\:prose :where(.sm\:prose>ul>li p):not(:where([class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.sm\:prose :where(.sm\:prose>ul>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.25em}.sm\:prose :where(.sm\:prose>ul>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.25em}.sm\:prose :where(.sm\:prose>ol>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.25em}.sm\:prose :where(.sm\:prose>ol>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.25em}.sm\:prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.sm\:prose :where(hr+*):not(:where([class~=not-prose] *)){margin-top:0}.sm\:prose :where(h2+*):not(:where([class~=not-prose] *)){margin-top:0}.sm\:prose :where(h3+*):not(:where([class~=not-prose] *)){margin-top:0}.sm\:prose :where(h4+*):not(:where([class~=not-prose] *)){margin-top:0}.sm\:prose :where(thead th:first-child):not(:where([class~=not-prose] *)){padding-left:0}.sm\:prose :where(thead th:last-child):not(:where([class~=not-prose] *)){padding-right:0}.sm\:prose :where(tbody td,tfoot td):not(:where([class~=not-prose] *)){padding:.5714286em}.sm\:prose :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose] *)){padding-left:0}.sm\:prose :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose] *)){padding-right:0}.sm\:prose :where(.sm\:prose>:first-child):not(:where([class~=not-prose] *)){margin-top:0}.sm\:prose :where(.sm\:prose>:last-child):not(:where([class~=not-prose] *)){margin-bottom:0}}.last\:mr-0:last-child{margin-right:0}.hover\:-translate-y-1:hover{--tw-translate-y:-0.25rem}.hover\:-translate-y-1:hover,.hover\:scale-105:hover{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05}.hover\:border-gray-400:hover{--tw-border-opacity:1;border-color:rgb(156 163 175/var(--tw-border-opacity))}.hover\:border-white:hover{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.hover\:bg-black:hover{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.hover\:bg-gray-800:hover{--tw-bg-opacity:1;background-color:rgb(31 41 55/var(--tw-bg-opacity))}.hover\:bg-red-500:hover{--tw-bg-opacity:1;background-color:rgb(239 68 68/var(--tw-bg-opacity))}.hover\:bg-white:hover{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.hover\:text-black:hover{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.hover\:text-gray-500:hover{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.hover\:text-red-600:hover{--tw-text-opacity:1;color:rgb(220 38 38/var(--tw-text-opacity))}.hover\:text-white:hover{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.hover\:underline:hover{text-decoration-line:underline}.group:hover .group-hover\:inline-block{display:inline-block}@media (min-width:640px){.sm\:left-auto{left:auto}.sm\:mb-0{margin-bottom:0}.sm\:mr-6{margin-right:1.5rem}.sm\:flex{display:flex}.sm\:h-20{height:5rem}.sm\:h-auto{height:auto}.sm\:w-2\/5{width:40%}.sm\:w-20{width:5rem}.sm\:w-3\/5{width:60%}.sm\:w-64{width:16rem}.sm\:flex-1{flex:1 1 0%}.sm\:-translate-x-1\/2{--tw-translate-x:-50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\:flex-row{flex-direction:row}.sm\:items-start{align-items:flex-start}.sm\:items-center{align-items:center}.sm\:px-12{padding-left:3rem;padding-right:3rem}.sm\:text-left{text-align:left}}@media (min-width:1024px){.lg\:w-1\/4{width:25%}.lg\:w-3\/4{width:75%}.lg\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}.\[\&\>h2\>a\]\:invisible>h2>a{visibility:hidden}.\[\&\>h2\>a\]\:hidden>h2>a{display:none}.\[\&\>h2\>a\]\:h-0>h2>a{height:0}.\[\&\>h2\>a\]\:w-0>h2>a{width:0}.\[\&\>h2\>a\]\:overflow-hidden>h2>a{overflow:hidden}.\[\&\>h2\>a\]\:opacity-0>h2>a{opacity:0}.\[\&\>h2\]\:inline>h2{display:inline}.\[\&\>p\]\:m-0>p{margin:0}.\[\&\>p\]\:inline>p{display:inline}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.post--2021--binary-floating-point--bit-button:hover{box-shadow:0 0 5px 1px rgba(0,0,0,.2);transition:box-shadow .2s ease-in-out}.custom-fade-in-opacity{animation-duration:.8s;animation-iteration-count:1;animation-name:customFadeInOpacity;animation-timing-function:ease-out;opacity:1}@keyframes customFadeInOpacity{0%{opacity:0}to{opacity:1}}input:checked~.toggle__dot{transform:translateX(100%)}input:checked~.toggle__line{background-color:#48bb78}.post--2021--water-line--gyro-cube .gyro-cube-container{align-items:center;display:flex;height:400px;justify-content:center;perspective:800px;perspective-origin:50%}.post--2021--water-line--gyro-cube .gyro-cube{height:200px;position:relative;transform-style:preserve-3d;width:200px}.post--2021--water-line--gyro-cube .gyro-cube-side{align-items:center;border:2px solid #fff;color:#fff;display:flex;font-size:100px;font-weight:700;height:100%;justify-content:center;opacity:.8;position:absolute;width:100%}.post--2021--water-line--gyro-cube .gyro-cube-front{background-color:#d50000;transform:translateZ(100px)}.post--2021--water-line--gyro-cube .gyro-cube-back{background-color:#a0f;transform:translateZ(-100px)}.post--2021--water-line--gyro-cube .gyro-cube-left{background-color:#304ffe;transform:translateX(100px) rotateY(90deg)}.post--2021--water-line--gyro-cube .gyro-cube-right{background-color:#0091ea;transform:translateX(-100px) rotateY(90deg)}.post--2021--water-line--gyro-cube .gyro-cube-top{background-color:#00bfa5;transform:translateY(-100px) rotateX(90deg)}.post--2021--water-line--gyro-cube .gyro-cube-bottom{background-color:#64dd17;transform:translateY(100px) rotateX(90deg)}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{cursor:grab;z-index:1}.react-flow__pane.selection{cursor:pointer}.react-flow__pane.dragging{cursor:grabbing}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selection{z-index:6}.react-flow__nodesselection-rect:focus,.react-flow__nodesselection-rect:focus-visible{outline:none}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow__connection-path,.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1;fill:none}.react-flow__edge{cursor:pointer;pointer-events:visibleStroke}.react-flow__edge.animated path{stroke-dasharray:5;animation:dashdraw .5s linear infinite}.react-flow__edge.animated path.react-flow__edge-interaction{stroke-dasharray:none;animation:none}.react-flow__edge.inactive{pointer-events:none}.react-flow__edge.selected,.react-flow__edge:focus,.react-flow__edge:focus-visible{outline:none}.react-flow__edge.selected .react-flow__edge-path,.react-flow__edge:focus .react-flow__edge-path,.react-flow__edge:focus-visible .react-flow__edge-path{stroke:#555}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-textbg{fill:#fff}.react-flow__edge .react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;animation:dashdraw .5s linear infinite}.react-flow__connectionline{z-index:1001}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;cursor:grab;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.react-flow__node.dragging{cursor:grabbing}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{background:#1a192b;border:1px solid #fff;border-radius:100%;height:6px;min-height:5px;min-width:5px;pointer-events:none;position:absolute;width:6px}.react-flow__handle.connectionindicator{cursor:crosshair;pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__panel{margin:15px;position:absolute;z-index:5}.react-flow__panel.top{top:0}.react-flow__panel.bottom{bottom:0}.react-flow__panel.left{left:0}.react-flow__panel.right{right:0}.react-flow__panel.center{left:50%;transform:translateX(-50%)}.react-flow__attribution{background:hsla(0,0%,100%,.5);font-size:10px;margin:0;padding:2px 3px}.react-flow__attribution a{color:#999;text-decoration:none}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edgelabel-renderer{height:100%;pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-text{font-size:10px}.react-flow__node.selectable:focus,.react-flow__node.selectable:focus-visible{outline:none}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background-color:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-default.selectable:focus,.react-flow__node-default.selectable:focus-visible,.react-flow__node-group.selectable.selected,.react-flow__node-group.selectable:focus,.react-flow__node-group.selectable:focus-visible,.react-flow__node-input.selectable.selected,.react-flow__node-input.selectable:focus,.react-flow__node-input.selectable:focus-visible,.react-flow__node-output.selectable.selected,.react-flow__node-output.selectable:focus,.react-flow__node-output.selectable:focus-visible{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background-color:hsla(0,0%,94%,.25)}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__nodesselection-rect:focus,.react-flow__nodesselection-rect:focus-visible,.react-flow__selection:focus,.react-flow__selection:focus-visible{outline:none}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border:none;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:16px}.react-flow__controls-button:hover{background:#f4f4f4}.react-flow__controls-button svg{max-height:12px;max-width:12px;width:100%}.react-flow__controls-button:disabled{pointer-events:none}.react-flow__controls-button:disabled svg{fill-opacity:.4}.react-flow__minimap{background-color:#fff}.react-flow__resize-control{position:absolute}.react-flow__resize-control.left,.react-flow__resize-control.right{cursor:ew-resize}.react-flow__resize-control.bottom,.react-flow__resize-control.top{cursor:ns-resize}.react-flow__resize-control.bottom.right,.react-flow__resize-control.top.left{cursor:nwse-resize}.react-flow__resize-control.bottom.left,.react-flow__resize-control.top.right{cursor:nesw-resize}.react-flow__resize-control.handle{background-color:#3367d9;border:1px solid #fff;border-radius:1px;height:4px;transform:translate(-50%,-50%);width:4px}.react-flow__resize-control.handle.left{left:0;top:50%}.react-flow__resize-control.handle.right{left:100%;top:50%}.react-flow__resize-control.handle.top{left:50%;top:0}.react-flow__resize-control.handle.bottom{left:50%;top:100%}.react-flow__resize-control.handle.bottom.left,.react-flow__resize-control.handle.top.left{left:0}.react-flow__resize-control.handle.bottom.right,.react-flow__resize-control.handle.top.right{left:100%}.react-flow__resize-control.line{border:0 solid #3367d9}.react-flow__resize-control.line.left,.react-flow__resize-control.line.right{height:100%;top:0;transform:translate(-50%);width:1px}.react-flow__resize-control.line.left{border-left-width:1px;left:0}.react-flow__resize-control.line.right{border-right-width:1px;left:100%}.react-flow__resize-control.line.bottom,.react-flow__resize-control.line.top{height:1px;left:0;transform:translateY(-50%);width:100%}.react-flow__resize-control.line.top{border-top-width:1px;top:0}.react-flow__resize-control.line.bottom{border-bottom-width:1px;top:100%}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true">API Design of X (Twitter) Home Timeline | Trekhleb</title><style type="text/css">
    .gatsby-remark-autolink-header-anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .gatsby-remark-autolink-header-anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .gatsby-remark-autolink-header-anchor svg,
    h2 .gatsby-remark-autolink-header-anchor svg,
    h3 .gatsby-remark-autolink-header-anchor svg,
    h4 .gatsby-remark-autolink-header-anchor svg,
    h5 .gatsby-remark-autolink-header-anchor svg,
    h6 .gatsby-remark-autolink-header-anchor svg {
      visibility: hidden;
    }
    h1:hover .gatsby-remark-autolink-header-anchor svg,
    h2:hover .gatsby-remark-autolink-header-anchor svg,
    h3:hover .gatsby-remark-autolink-header-anchor svg,
    h4:hover .gatsby-remark-autolink-header-anchor svg,
    h5:hover .gatsby-remark-autolink-header-anchor svg,
    h6:hover .gatsby-remark-autolink-header-anchor svg,
    h1 .gatsby-remark-autolink-header-anchor:focus svg,
    h2 .gatsby-remark-autolink-header-anchor:focus svg,
    h3 .gatsby-remark-autolink-header-anchor:focus svg,
    h4 .gatsby-remark-autolink-header-anchor:focus svg,
    h5 .gatsby-remark-autolink-header-anchor:focus svg,
    h6 .gatsby-remark-autolink-header-anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="alternate" type="application/rss+xml" title="Trekhleb.dev RSS Feed" href="/rss.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><main class="flex flex-col items-center"><div class="max-w-screen-xl self-stretch m-auto w-full"><header class="flex flex-row items-center px-6 sm:px-12 py-6"><div class="mr-6"><div><a class="transition duration-200 ease-in-out flex flex-row items-center hover:text-red-600 font-extrabold text-sm tracking-widest uppercase" href="/">Trekhleb</a></div></div><nav><ul class="flex flex-row"><li class="ml-5"><a class="transition duration-200 ease-in-out flex flex-row items-center hover:text-red-600 uppercase text-xs" href="/projects/">Projects</a></li><li class="ml-5"><a class="transition duration-200 ease-in-out flex flex-row items-center hover:text-red-600 uppercase text-xs" href="/blog/">Blog</a></li><li class="ml-5"><a class="transition duration-200 ease-in-out flex flex-row items-center hover:text-red-600 uppercase text-xs" href="/publications/">Publications</a></li></ul></nav></header><article class="px-6 sm:px-12 py-6"><div class="flex flex-col items-center"><article class="w-full prose prose-sm sm:prose overflow-hidden prose-red" style="max-width:860px"><h1 class="text-3xl mb-6 uppercase font-extrabold ">API Design of X (Twitter) Home Timeline</h1><div class="flex flex-row items-center "><div class="flex flex-row items-center mr-6 mb-6 text-gray-500 text-sm"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="mr-1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>12 December, 2024</div></div><span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 40.8%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGklEQVR42o1SsaqDQBDUqEEkhagohDQ2BiWF1imNWIrGKmhjpX6CjYWdjYXE//F3/IbAPO7AwONF8opjb3e52ZnZYxiGwafDsiwMw4BpmuB5ntY4joOiKLS32+1o/PD2L9gKUNc1ns8nbrcbzYMgwP1+fw/cIPO7sN/vIYoiLMuCrut4PB6oqgpxHCPPcxwOB7iuiyiKcD6ftwGJHBLTNMU8z1iWBZqm4XK5IMsyjOMIVVWpBX3fo2ka+L6/DUg8IdFxHLxeL0zTRHNZljEMA2UXhiFOpxNlS8AI06+SBUHA8XikHhH5xEfP81AUBcqyfMuUJIn2/7WU1fAkSXC9Xundtm10XYe2bbeW8R2QLGC1gtSIh+u32QL8AVgL0gS+Dxv8AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="X API Design"
        title=""
        src="/static/6c3fe261d3b0a2dfbaa7d2e03447f6d6/00d43/01-cover.png"
        srcset="/static/6c3fe261d3b0a2dfbaa7d2e03447f6d6/63868/01-cover.png 250w,
/static/6c3fe261d3b0a2dfbaa7d2e03447f6d6/0b533/01-cover.png 500w,
/static/6c3fe261d3b0a2dfbaa7d2e03447f6d6/00d43/01-cover.png 1000w,
/static/6c3fe261d3b0a2dfbaa7d2e03447f6d6/aa440/01-cover.png 1500w,
/static/6c3fe261d3b0a2dfbaa7d2e03447f6d6/e8950/01-cover.png 2000w,
/static/6c3fe261d3b0a2dfbaa7d2e03447f6d6/c4093/01-cover.png 2646w"
        sizes="(max-width: 1000px) 100vw, 1000px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></span>
<p>When it comes to designing the API of the system the software engineers often consider different options like <a href="https://okso.app/showcase/system-design/page/0d03d895-b5b1-40c6-3549-945df9d98dcd">REST vs RPC vs GraphQL</a> (or other hybrid approaches) to determine the best fit for a specific task or project.</p>
<p>In this article, we explore how the <strong>X</strong> (<strong>Twitter</strong>) home timeline (x.com/home) API is designed and what approaches they use to solve the following challenges:</p>
<ul>
<li>How to fetch the list of tweets</li>
<li>How to do a sorting and pagination</li>
<li>How to return the hierarchical/linked entities (tweets, users, media)</li>
<li>How to get tweet details</li>
<li>How to &quot;like&quot; a tweet</li>
</ul>
<p>We will only explore these challenges on the API level, treating the backend implementation as a black box, since we don&#x27;t have access to the backend code itself.</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 61.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAexGkzWD/8QAGhAAAgIDAAAAAAAAAAAAAAAAAgMAEgEQMf/aAAgBAQABBQJhUBTsN0fFkVp//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxABAAICAwAAAAAAAAAAAAAAAQAQAhEiQXH/2gAIAQEABj8CcnqcRPaWO2v/xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAhMf/aAAgBAQABPyEzzBeZeZh0sm5Eo5nZJ5DW7//aAAwDAQACAAMAAAAQuA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhQTFhcYGh/9oACAEBAAE/EF0TINr4m8AyDVXw9kQAVtMCDkAbsPTj5DRCwQVnoILJn//Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="X home timeline Example"
        title=""
        src="/static/cb6b75eb6eb338b77c7fa05cc9bb7c06/a2510/02-home.jpg"
        srcset="/static/cb6b75eb6eb338b77c7fa05cc9bb7c06/0479a/02-home.jpg 250w,
/static/cb6b75eb6eb338b77c7fa05cc9bb7c06/41099/02-home.jpg 500w,
/static/cb6b75eb6eb338b77c7fa05cc9bb7c06/a2510/02-home.jpg 1000w,
/static/cb6b75eb6eb338b77c7fa05cc9bb7c06/c58a3/02-home.jpg 1500w,
/static/cb6b75eb6eb338b77c7fa05cc9bb7c06/3acf0/02-home.jpg 2000w"
        sizes="(max-width: 1000px) 100vw, 1000px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></span>
<blockquote>
<p>Showing the exact requests and responses here might be cumbersome and hard to follow since the deeply nested and repetitive objects are hard to read. To make it easier to see the request/response payload structure, I&#x27;ve made my attempt to &quot;type out&quot; the home timeline API in TypeScript. So when it comes to the request/response examples I&#x27;ll use the request and response <strong>types</strong> instead of actual JSON objects. Also, remember that the types are simplified and many properties are omitted for brevity.</p>
<p>You may find all types in <a href="https://github.com/trekhleb/trekhleb.github.io/blob/master/src/posts/2024/api-design-x-home-timeline/types/x.ts">types/x.ts</a> file or at the bottom of this article in the &quot;Appendix: All types in one place&quot; section.</p>
</blockquote>
<h2 id="fetching-the-list-of-tweets" style="position:relative">Fetching the list of tweets<a href="#fetching-the-list-of-tweets" aria-label="fetching the list of tweets permalink" class="gatsby-remark-autolink-header-anchor after"><span><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></span></a></h2>
<h3 id="the-endpoint-and-requestresponse-structure" style="position:relative">The endpoint and request/response structure<a href="#the-endpoint-and-requestresponse-structure" aria-label="the endpoint and requestresponse structure permalink" class="gatsby-remark-autolink-header-anchor after"><span><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></span></a></h3>
<p>Fetching the list of tweets for the home timeline starts with the <span><code class="language-text">POST</code></span> request to the following endpoint:</p>
<span><div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">POST https://x.com/i/api/graphql/{query-id}/HomeTimeline</code></pre></div></span>
<p>Here is a simplified <strong>request</strong> body type:</p>
<span><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">TimelineRequest</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  queryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 's6ERr1UxkxxBx4YundNsXw'</span>
  variables<span class="token operator">:</span> <span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
    cursor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'DAAACgGBGedb3Vx__9sKAAIZ5g4QENc99AcAAwAAIAIAAA'</span>
    seenTweetIds<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ['1867041249938530657', '1867041249938530659']</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  features<span class="token operator">:</span> Features<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">Features</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  articles_preview_enabled<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  view_counts_everywhere_api_enabled<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div></span>
<p>And here is a simplified <strong>response</strong> body type (we&#x27;ll dive deeper into the response sub-types below):</p>
<span><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">TimelineResponse</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token punctuation">{</span>
      home_timeline_urt<span class="token operator">:</span> <span class="token punctuation">{</span>
        instructions<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineAddEntries <span class="token operator">|</span> TimelineTerminateTimeline<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        responseObjects<span class="token operator">:</span> <span class="token punctuation">{</span>
          feedbackActions<span class="token operator">:</span> TimelineAction<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineAddEntries</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'TimelineAddEntries'</span><span class="token punctuation">;</span>
  entries<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineItem <span class="token operator">|</span> TimelineCursor <span class="token operator">|</span> TimelineModule<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineItem</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'tweet-1867041249938530657'</span>
  sortIndex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1866561576636152411'</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    __typename<span class="token operator">:</span> <span class="token string">'TimelineTimelineItem'</span><span class="token punctuation">;</span>
    itemContent<span class="token operator">:</span> TimelineTweet<span class="token punctuation">;</span>
    feedbackInfo<span class="token operator">:</span> <span class="token punctuation">{</span>
      feedbackKeys<span class="token operator">:</span> ActionKey<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ['-1378668161']</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineTweet</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  __typename<span class="token operator">:</span> <span class="token string">'TimelineTweet'</span><span class="token punctuation">;</span>
  tweet_results<span class="token operator">:</span> <span class="token punctuation">{</span>
    result<span class="token operator">:</span> Tweet<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineCursor</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'cursor-top-1867041249938530657'</span>
  sortIndex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1866961576813152212'</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    __typename<span class="token operator">:</span> <span class="token string">'TimelineTimelineCursor'</span><span class="token punctuation">;</span>
    value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'DACBCgABGedb4VyaJwuKbIIZ40cX3dYwGgaAAwAEAEEAA'</span>
    cursorType<span class="token operator">:</span> <span class="token string">'Top'</span> <span class="token operator">|</span> <span class="token string">'Bottom'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">ActionKey</span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">;</span></code></pre></div></span>
<p>It is interesting to note here, that &quot;getting&quot; the data is done via &quot;POSTing&quot;, which is not common for the REST-like API but it is common for a GraphQL-like API.</p>
<blockquote>
<p>It is worth mentioning that sometimes data fetching in RESTful APIs can still be done via <span><code class="language-text">POST</code></span> requests. See the <a href="https://learn.microsoft.com/en-us/rest/api/azure/devops/git/commits/get-commits-batch?view=azure-devops-rest-7.2&amp;tabs=HTTP">Get Commits Batch</a> API from Azure as an example. However, one could arguably assume that such an approach is either an anti-pattern or a corner case to address specific RESTful limitations (e.g., URL length limits, avoiding HTTP-level caching, preventing unwanted logging of data in the URL, or other reasons).</p>
<p>Most of the time, RESTful APIs are pretty picky on how HTTP methods like <span><code class="language-text">GET</code></span>, <span><code class="language-text">POST</code></span>, <span><code class="language-text">PUT</code></span>, <span><code class="language-text">PATCH</code></span>, and <span><code class="language-text">DELETE</code></span> are used. What you would <a href="https://aws.amazon.com/what-is/restful-api/">typically see</a> is:</p>
<ul>
<li><span><code class="language-text">GET</code></span>  Fetches resources from the server (e.g., retrieves a user entity)</li>
<li><span><code class="language-text">POST</code></span>  Creates new resources (e.g., adds a new user).</li>
<li><span><code class="language-text">PUT</code></span>  Completely updates a resource (e.g., overwrites the entire user profile).</li>
<li><span><code class="language-text">PATCH</code></span>  Partially updates a resource (e.g., updates the user&#x27;s phone number while leaving the rest of the profile unchanged).</li>
<li><span><code class="language-text">DELETE</code></span>  Deletes a resource (e.g., removes a user from the database).</li>
</ul>
<p>These constraints are considered a strength of RESTful APIs because such a standardized approach makes it easier to understand and use any RESTful API (engineers and users know what to expect). However, it can also create confusion, such as deciding which method to use when a user:</p>
<ol>
<li>Requests a password reset, and then</li>
<li>Resets the password by clicking the link in the email.</li>
</ol>
<p>Should this be a POST, PUT, PATCH, or something else?</p>
</blockquote>
<p>Additionally, in the case of the X API, the <span><code class="language-text">graphql</code></span> part of the URL indicates that X uses a GraphQL-based API.</p>
<p>I&#x27;m using the word <em>&quot;flavor&quot;</em> here because the request body itself doesn&#x27;t look like a pure <a href="https://graphql.org/learn/queries/">GraphQL query</a>, where we may describe the required response structure, listing all the properties we want to fetch:</p>
<span><div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token comment"># An example of a pure GraphQL request structure that is *not* being used in the X API.</span>
<span class="token punctuation">{</span>
  <span class="token object">tweets</span> <span class="token punctuation">{</span>
    <span class="token property">id</span>
    <span class="token property">description</span>
    <span class="token property">created_at</span>
    <span class="token object">medias</span> <span class="token punctuation">{</span>
      <span class="token property">kind</span>
      <span class="token property">url</span>
      <span class="token comment"># ...</span>
    <span class="token punctuation">}</span>
    <span class="token object">author</span> <span class="token punctuation">{</span>
      <span class="token property">id</span>
      <span class="token property">name</span>
      <span class="token comment"># ...</span>
    <span class="token punctuation">}</span>
    <span class="token comment"># ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></span>
<p>The assumption here is that the home timeline API is not a pure GraphQL API, but is a <strong>mix of several approaches</strong>. Passing the parameters in a POST request like this seems closer to the &quot;functional&quot; RPC call. But at the same time, it seems like the GraphQL features might be used somewhere on the backend behind the <em>HomeTimeline</em> endpoint handler/controller. A mix like this might also be caused by a legacy code or some sort of ongoing migration. But again, these are just my speculations.</p>
<p>You may also notice that the same <span><code class="language-text">TimelineRequest.queryId</code></span> is used in the API URL as well as in the API request body. This queryId is most probably generated on the backend, then it gets embedded in the <span><code class="language-text">main.js</code></span> bundle, and then it is used when fetching the data from the backend. It is hard for me to understand how this <span><code class="language-text">queryId</code></span> is used exactly since X&#x27;s backend is a black box in our case. But, again, the speculation here might be that, it might be needed for some sort of performance optimization (re-using some pre-computed query results?), caching (Apollo related?), debugging (join logs by queryId?), or tracking/tracing purposes.</p>
<p>One assumption here is that the actual GraphQL query might be just prepared (but not yet executed) on the server side and mapped to a specific <span><code class="language-text">queryId</code></span>. Then, the client (i.e. the browser or the mobile app) will send the <span><code class="language-text">queryId</code></span> along with some additional &quot;dynamic&quot; data (like pagination cursor) to the backend, which, in turn, would fetch the query by its <span><code class="language-text">queryId</code></span>, augment the prepared query with a dynamic data and then would finally execute the actual GraphQL query. This may be useful, for example, in the following cases:</p>
<ul>
<li>it may potentially save some traffic, since less data is being transmitted with each query,</li>
<li>it may take into account some security considerations and hide some query parameters or details from the user (the &quot;secret&quot; parameters will be attached on the backend side and are not visible in the browser&#x27;s network tab),</li>
<li>it may allow the backend to have a full control over the actual GraphQL query structure<!-- -->
<ul>
<li>there are many times when query structure may need to be changed (i.e. A/B testing, API v1-&gt;v2 migration, maybe some performance issues mitigation (like having a default sorting on field <span><code class="language-text">A</code></span> is faster than on field <span><code class="language-text">B</code></span>), and other cases)</li>
<li>if such query adaptation may be performed solely on the backend without involving the web and mobile (iOS + Android) teams, it may have some benefits: 1 team (backend) and 1 deployment (backend service), instead of 3 teams (frontend, backend, mobile) and 4 deployments (backend, frontend, iOS, Android). This would require a generation of a new <span><code class="language-text">queryId</code></span> and some mechanisms to pass this new <span><code class="language-text">queryId</code></span> to the clients without them being re-build every time though.</li>
</ul>
</li>
<li>caching (not on the API-gateway level)?</li>
</ul>
<p>But again, the points above, are just mine speculations and assumptions. I can&#x27;t be sure that this is how the <span><code class="language-text">queryId</code></span> is used by X team.</p>
<p>It is also interesting to note, that the <span><code class="language-text">TimelineResponse</code></span> contains not a list of tweets, but rather a list of <strong>instructions</strong>, like <em>&quot;add a tweet to the timeline&quot;</em> (see the <span><code class="language-text">TimelineAddEntries</code></span> type), or <em>&quot;terminate the timeline&quot;</em> (see the <span><code class="language-text">TimelineTerminateTimeline</code></span> type).</p>
<p>The <span><code class="language-text">TimelineAddEntries</code></span> instruction itself may also contain different types of entities:</p>
<ul>
<li>Tweets  see the <span><code class="language-text">TimelineItem</code></span> type</li>
<li>Cursors  see the <span><code class="language-text">TimelineCursor</code></span> type</li>
<li>Conversations/comments/threads  see the <span><code class="language-text">TimelineModule</code></span> type</li>
</ul>
<span><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">TimelineResponse</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token punctuation">{</span>
      home_timeline_urt<span class="token operator">:</span> <span class="token punctuation">{</span>
        instructions<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineAddEntries <span class="token operator">|</span> TimelineTerminateTimeline<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- Here</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineAddEntries</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'TimelineAddEntries'</span><span class="token punctuation">;</span>
  entries<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineItem <span class="token operator">|</span> TimelineCursor <span class="token operator">|</span> TimelineModule<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- Here</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div></span>
<p>This is interesting from the extendability point of view since it allows a wider variety of what can be rendered in the home timeline without tweaking the API too much.</p>
<h3 id="pagination" style="position:relative">Pagination<a href="#pagination" aria-label="pagination permalink" class="gatsby-remark-autolink-header-anchor after"><span><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></span></a></h3>
<p>The <span><code class="language-text">TimelineRequest.variables.count</code></span> property sets how many tweets we want to fetch at once (per page). The default is 20. However, more than 20 tweets can be returned in the <span><code class="language-text">TimelineAddEntries.entries</code></span> array. For example, the array might contain 37 entries for the first page load, because it includes tweets (29), pinned tweets (1), promoted tweets (5), and pagination cursors (2). I&#x27;m not sure why there are  29 regular tweets with the requested count of 20 though.</p>
<p>The <span><code class="language-text">TimelineRequest.variables.cursor</code></span> is responsible for the cursor-based pagination.</p>
<blockquote>
<p>&quot;<strong>Cursor pagination</strong> is most often used for real-time data due to the frequency new records are added and because when reading data you often see the latest results first. It eliminates the possibility of skipping items and displaying the same item more than once. In cursor-based pagination, a constant pointer (or cursor) is used to keep track of where in the data set the next items should be fetched from.&quot; See the <a href="https://stackoverflow.com/questions/55744926/offset-pagination-vs-cursor-pagination">Offset pagination vs Cursor pagination</a> thread for the context.</p>
</blockquote>
<p>When fetching the list of tweets for the first time the <span><code class="language-text">TimelineRequest.variables.cursor</code></span> is empty, since we want to fetch the top tweets from the default (most probably pre-computed) list of personalized tweets.</p>
<p>However, in the response, along with the tweet data, the backend also returns the cursor entries. Here is the response type hierarchy: <span><code class="language-text">TimelineResponse  TimelineAddEntries  TimelineCursor</code></span>:</p>
<span><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">TimelineResponse</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token punctuation">{</span>
      home_timeline_urt<span class="token operator">:</span> <span class="token punctuation">{</span>
        instructions<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineAddEntries <span class="token operator">|</span> TimelineTerminateTimeline<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- Here</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineAddEntries</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'TimelineAddEntries'</span><span class="token punctuation">;</span>
  entries<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineItem <span class="token operator">|</span> TimelineCursor <span class="token operator">|</span> TimelineModule<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- Here (tweets + cursors)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineCursor</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  sortIndex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    __typename<span class="token operator">:</span> <span class="token string">'TimelineTimelineCursor'</span><span class="token punctuation">;</span>
    value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'DACBCgABGedb4VyaJwuKbIIZ40cX3dYwGgaAAwAEAEEAA' &lt;-- Here</span>
    cursorType<span class="token operator">:</span> <span class="token string">'Top'</span> <span class="token operator">|</span> <span class="token string">'Bottom'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div></span>
<p>Every page contains the list of tweets along with &quot;top&quot; and &quot;bottom&quot; cursors:</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 61.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHaEXSwgP/EABsQAAIBBQAAAAAAAAAAAAAAAAECEAMREhQh/9oACAEBAAEFAslueQ1MbJj/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAADAAMAAAAAAAAAAAAAAAABEBECEiH/2gAIAQEABj8C1orGXX//xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhMWH/2gAIAQEAAT8h6XlujUQYppNYaYnUf//aAAwDAQACAAMAAAAQYM//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPxCH/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qp//EABsQAAICAwEAAAAAAAAAAAAAAAERACExQWFR/9oACAEBAAE/EFKZGjDLkoSHTzKccPd0BgqBHjmWTrUMwz//2Q=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Cursors"
        title=""
        src="/static/b9a993f40d6f81a18d5315a05893fdb1/a2510/03-cursors.jpg"
        srcset="/static/b9a993f40d6f81a18d5315a05893fdb1/0479a/03-cursors.jpg 250w,
/static/b9a993f40d6f81a18d5315a05893fdb1/41099/03-cursors.jpg 500w,
/static/b9a993f40d6f81a18d5315a05893fdb1/a2510/03-cursors.jpg 1000w,
/static/b9a993f40d6f81a18d5315a05893fdb1/c58a3/03-cursors.jpg 1500w,
/static/b9a993f40d6f81a18d5315a05893fdb1/3acf0/03-cursors.jpg 2000w"
        sizes="(max-width: 1000px) 100vw, 1000px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></span>
<p>After the page data is loaded, we can go from the current page in both directions and fetch either the &quot;previous/older&quot; tweets using the &quot;bottom&quot; cursor or the &quot;next/newer&quot; tweets using the &quot;top&quot; cursor. My assumption is that fetching the &quot;next&quot; tweets using the &quot;top&quot; cursor happens in two cases: when the new tweets were added while the user is still reading the current page, or when the user starts scrolling the feed upwards (and there are no cached entries or if the previous entries were deleted for the performance reasons).</p>
<p>The X&#x27;s cursor itself might look like this: <span><code class="language-text">DAABCgABGemI6Mk__9sKAAIZ6MSYG9fQGwgAAwAAAAIAAA</code></span>. In some API designs, the cursor may be a Base64 encoded string that contains the id of the last entry in the list, or the timestamp of the last seen entry. For example: <span><code class="language-text">eyJpZCI6ICIxMjM0NTY3ODkwIn0= --> {"id": "1234567890"}</code></span>, and then, this data is used to query the database accordingly. In the case of X API, it looks like the cursor is being Base64 decoded into some custom binary sequence that might require some further decoding to get any meaning out of it (i.e. via the Protobuf message definitions). Since we don&#x27;t know if it is a <span><code class="language-text">.proto</code></span> encoding and also we don&#x27;t know the <span><code class="language-text">.proto</code></span> message definition we may just assume that the backend knows how to query the next batch of tweets based on the cursor string.</p>
<p>The <span><code class="language-text">TimelineResponse.variables.seenTweetIds</code></span> parameter is used to inform the server about which tweets from the currently active page of the infinite scrolling the client has already seen. This most probably helps ensure that the server does not include duplicate tweets in subsequent pages of results.</p>
<h2 id="linkedhierarchical-entities" style="position:relative">Linked/hierarchical entities<a href="#linkedhierarchical-entities" aria-label="linkedhierarchical entities permalink" class="gatsby-remark-autolink-header-anchor after"><span><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></span></a></h2>
<p>One of the challenges to be solved in the APIs like home timeline (or Home Feed) is to figure out how to return the linked or hierarchical entities (i.e. <span><code class="language-text">tweet  user</code></span>, <span><code class="language-text">tweet  media</code></span>, <span><code class="language-text">media  author</code></span>, etc):</p>
<ul>
<li>Should we only return the list of tweets first and then fetch the dependent entities (like user details) in a bunch of separate queries on-demand?</li>
<li>Or should we return all the data at once, increasing the time and the size of the first load, but saving the time for all subsequent calls?<!-- -->
<ul>
<li>Do we need to normalize the data in this case to reduce the payload size (i.e. when the same user is an author of many tweets and we want to avoid repeating the user data over and over again in each tweet entity)?</li>
</ul>
</li>
<li>Or should it be a combination of the approaches above?</li>
</ul>
<p>Let&#x27;s see how X handles it.</p>
<p>Earlier in the <span><code class="language-text">TimelineTweet</code></span> type the <span><code class="language-text">Tweet</code></span> sub-type was used. Let&#x27;s see how it looks:</p>
<span><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">TimelineResponse</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token punctuation">{</span>
      home_timeline_urt<span class="token operator">:</span> <span class="token punctuation">{</span>
        instructions<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineAddEntries <span class="token operator">|</span> TimelineTerminateTimeline<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- Here</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineAddEntries</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'TimelineAddEntries'</span><span class="token punctuation">;</span>
  entries<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineItem <span class="token operator">|</span> TimelineCursor <span class="token operator">|</span> TimelineModule<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- Here</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineItem</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  sortIndex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    __typename<span class="token operator">:</span> <span class="token string">'TimelineTimelineItem'</span><span class="token punctuation">;</span>
    itemContent<span class="token operator">:</span> TimelineTweet<span class="token punctuation">;</span> <span class="token comment">// &lt;-- Here</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineTweet</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  __typename<span class="token operator">:</span> <span class="token string">'TimelineTweet'</span><span class="token punctuation">;</span>
  tweet_results<span class="token operator">:</span> <span class="token punctuation">{</span>
    result<span class="token operator">:</span> Tweet<span class="token punctuation">;</span> <span class="token comment">// &lt;-- Here</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// A Tweet entity</span>
<span class="token keyword">type</span> <span class="token class-name">Tweet</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  __typename<span class="token operator">:</span> <span class="token string">'Tweet'</span><span class="token punctuation">;</span>
  core<span class="token operator">:</span> <span class="token punctuation">{</span>
    user_results<span class="token operator">:</span> <span class="token punctuation">{</span>
      result<span class="token operator">:</span> User<span class="token punctuation">;</span> <span class="token comment">// &lt;-- Here (a dependent User entity)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  legacy<span class="token operator">:</span> <span class="token punctuation">{</span>
    full_text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
    entities<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// &lt;-- Here (a dependent Media entities)</span>
      media<span class="token operator">:</span> Media<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      hashtags<span class="token operator">:</span> Hashtag<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      urls<span class="token operator">:</span> Url<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      user_mentions<span class="token operator">:</span> UserMention<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// A User entity</span>
<span class="token keyword">type</span> <span class="token class-name">User</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  __typename<span class="token operator">:</span> <span class="token string">'User'</span><span class="token punctuation">;</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'VXNlcjoxNDUxM4ADSG44MTA4NDc4OTc2'</span>
  <span class="token comment">// ...</span>
  legacy<span class="token operator">:</span> <span class="token punctuation">{</span>
    location<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'San Francisco'</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">//  'John Doe'</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// A Media entity</span>
<span class="token keyword">type</span> <span class="token class-name">Media</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  source_user_id_str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867041249938530657'  &lt;-- Here (the dependant user is being mentioned by its ID)</span>
  url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'https://t.co/X78dBgtrsNU'</span>
  features<span class="token operator">:</span> <span class="token punctuation">{</span>
    large<span class="token operator">:</span> <span class="token punctuation">{</span> faces<span class="token operator">:</span> FaceGeometry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    medium<span class="token operator">:</span> <span class="token punctuation">{</span> faces<span class="token operator">:</span> FaceGeometry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    small<span class="token operator">:</span> <span class="token punctuation">{</span> faces<span class="token operator">:</span> FaceGeometry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    orig<span class="token operator">:</span> <span class="token punctuation">{</span> faces<span class="token operator">:</span> FaceGeometry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  sizes<span class="token operator">:</span> <span class="token punctuation">{</span>
    large<span class="token operator">:</span> MediaSize<span class="token punctuation">;</span>
    medium<span class="token operator">:</span> MediaSize<span class="token punctuation">;</span>
    small<span class="token operator">:</span> MediaSize<span class="token punctuation">;</span>
    thumb<span class="token operator">:</span> MediaSize<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  video_info<span class="token operator">:</span> VideoInfo<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div></span>
<p>What&#x27;s interesting here is that most of the dependent data like <span><code class="language-text">tweet  media</code></span> and <span><code class="language-text">tweet  author</code></span> is embedded into the response on the first call (no subsequent queries).</p>
<p>Also, the <span><code class="language-text">User</code></span> and <span><code class="language-text">Media</code></span> connections with <span><code class="language-text">Tweet</code></span> entities are not normalized (if two tweets have the same author, their data will be repeated in each tweet object). But it seems like it should be ok, since in the scope of the home timeline for a specific user the tweets will be authored by many authors and repetitions are possible but sparse.</p>
<p>My assumption was that the <span><code class="language-text">UserTweets</code></span> API (that we don&#x27;t cover here), which is responsible for fetching the tweets of <em>one particular user</em> will handle it differently, but, apparently, it is not the case. The <span><code class="language-text">UserTweets</code></span> returns the list of tweets of the same user and embeds the same user data over and over again for each tweet. It&#x27;s interesting. Maybe the simplicity of the approach beats some data size overhead (maybe user data is considered pretty small in size). I&#x27;m not sure.</p>
<p>Another observation about the entities&#x27; relationship is that the <span><code class="language-text">Media</code></span> entity also has a link to the <span><code class="language-text">User</code></span> (the author). But it does it not via direct entity embedding as the <span><code class="language-text">Tweet</code></span> entity does, but rather it links via the <span><code class="language-text">Media.source_user_id_str</code></span> property.</p>
<p>The &quot;comments&quot; (which are also the &quot;tweets&quot; by their nature) for each &quot;tweet&quot; in the home timeline are not fetched at all. To see the tweet thread the user must click on the tweet to see its detailed view. The tweet thread will be fetched by calling the <span><code class="language-text">TweetDetail</code></span> endpoint (more about it in the &quot;Tweet detail page&quot; section below).</p>
<p>Another entity that each <span><code class="language-text">Tweet</code></span> has is <span><code class="language-text">FeedbackActions</code></span> (i.e. &quot;Recommend less often&quot; or &quot;See fewer&quot;). The way the <span><code class="language-text">FeedbackActions</code></span> are stored in the response object is different from the way the <span><code class="language-text">User</code></span> and <span><code class="language-text">Media</code></span> objects are stored. While the <span><code class="language-text">User</code></span> and <span><code class="language-text">Media</code></span> entities are part of the <span><code class="language-text">Tweet</code></span>, the <span><code class="language-text">FeedbackActions</code></span> are stored separately in <span><code class="language-text">TimelineItem.content.feedbackInfo.feedbackKeys</code></span> array and are linked via the <span><code class="language-text">ActionKey</code></span>. That was a slight surprise for me since it doesn&#x27;t seem to be the case that any action is re-usable. It looks like one action is used for one particular tweet only. So it seems like the <span><code class="language-text">FeedbackActions</code></span> could be embedded into each tweet in the same way as <span><code class="language-text">Media</code></span> entities. But I might be missing some hidden complexity here (like the fact that each action can have children actions).</p>
<p>More details about the actions are in the &quot;Tweet actions&quot; section below.</p>
<h2 id="sorting" style="position:relative">Sorting<a href="#sorting" aria-label="sorting permalink" class="gatsby-remark-autolink-header-anchor after"><span><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></span></a></h2>
<p>The sorting order of the timeline entries is defined by the backend via the <span><code class="language-text">sortIndex</code></span> properties:</p>
<span><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">TimelineCursor</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  sortIndex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1866961576813152212' &lt;-- Here</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    __typename<span class="token operator">:</span> <span class="token string">'TimelineTimelineCursor'</span><span class="token punctuation">;</span>
    value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    cursorType<span class="token operator">:</span> <span class="token string">'Top'</span> <span class="token operator">|</span> <span class="token string">'Bottom'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineItem</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  sortIndex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1866561576636152411' &lt;-- Here</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    __typename<span class="token operator">:</span> <span class="token string">'TimelineTimelineItem'</span><span class="token punctuation">;</span>
    itemContent<span class="token operator">:</span> TimelineTweet<span class="token punctuation">;</span>
    feedbackInfo<span class="token operator">:</span> <span class="token punctuation">{</span>
      feedbackKeys<span class="token operator">:</span> ActionKey<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineModule</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  sortIndex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '73343543020642838441' &lt;-- Here</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    __typename<span class="token operator">:</span> <span class="token string">'TimelineTimelineModule'</span><span class="token punctuation">;</span>
    items<span class="token operator">:</span> <span class="token punctuation">{</span>
      entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
      item<span class="token operator">:</span> TimelineTweet<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    displayType<span class="token operator">:</span> <span class="token string">'VerticalConversation'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div></span>
<p>The <span><code class="language-text">sortIndex</code></span> itself might look something like this <span><code class="language-text">'1867231621095096312'</code></span>. It likely corresponds directly to or is derived from a <a href="https://en.wikipedia.org/wiki/Snowflake_ID">Snowflake ID</a>.</p>
<blockquote>
<p>Actually most of the IDs you see in the response (tweet IDs) follow the &quot;Snowflake ID&quot; convention and look like <span><code class="language-text">'1867231621095096312'</code></span>.</p>
</blockquote>
<p>If this is used to sort entities like tweets, the system leverages the inherent chronological sorting of Snowflake IDs. Tweets or objects with a higher sortIndex value (a more recent timestamp) appear higher in the feed, while those with lower values (an older timestamp) appear lower in the feed.</p>
<p>Heres the step-by-step decoding of the Snowflake ID (in our case the <span><code class="language-text">sortIndex</code></span>) <span><code class="language-text">1867231621095096312</code></span>:</p>
<ul>
<li>Extract the <strong>Timestamp</strong>:<!-- -->
<ul>
<li>The timestamp is derived by right-shifting the Snowflake ID by 22 bits (to remove the lower 22 bits for data center, worker ID, and sequence): <span><code class="language-text">1867231621095096312  445182709954</code></span></li>
</ul>
</li>
<li>Add <strong>Twitter&#x27;s Epoch</strong>:<!-- -->
<ul>
<li>Adding Twitter&#x27;s custom epoch (1288834974657) to this timestamp gives the UNIX timestamp in milliseconds: <span><code class="language-text">445182709954 + 1288834974657  1734017684611ms</code></span></li>
</ul>
</li>
<li>Convert to a <strong>human-readable date</strong>:<!-- -->
<ul>
<li>Converting the UNIX timestamp to a UTC datetime gives: <span><code class="language-text">1734017684611ms  2024-12-12 15:34:44.611 (UTC)</code></span></li>
</ul>
</li>
</ul>
<p>So we can assume here that the tweets in the home timeline are sorted chronologically.</p>
<h2 id="tweet-actions" style="position:relative">Tweet actions<a href="#tweet-actions" aria-label="tweet actions permalink" class="gatsby-remark-autolink-header-anchor after"><span><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></span></a></h2>
<p>Each tweet has an &quot;Actions&quot; menu.</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 61.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB2KSFgf/EABkQAQADAQEAAAAAAAAAAAAAAAIBAxAAEv/aAAgBAQABBQK1eK8ZhcTBz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABsQAAIBBQAAAAAAAAAAAAAAAAEQAAIhQVGx/9oACAEBAAY/AjVpkHMt1f/EABkQAQEBAQEBAAAAAAAAAAAAAAERACExgf/aAAgBAQABPyGJFwKYs77hyqCJd2b+p1u//9oADAMBAAIAAwAAABAQD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAQEBAAEFAQAAAAAAAAAAAAERADEhQVFxodH/2gAIAQEAAT8QQoQGLDnMD5fmAEB3TjASYxxPVz0LSfoOF1O//9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Actions"
        title=""
        src="/static/f36b26cf9167c68df534014f9c745b8f/a2510/04-actions.jpg"
        srcset="/static/f36b26cf9167c68df534014f9c745b8f/0479a/04-actions.jpg 250w,
/static/f36b26cf9167c68df534014f9c745b8f/41099/04-actions.jpg 500w,
/static/f36b26cf9167c68df534014f9c745b8f/a2510/04-actions.jpg 1000w,
/static/f36b26cf9167c68df534014f9c745b8f/c58a3/04-actions.jpg 1500w,
/static/f36b26cf9167c68df534014f9c745b8f/3acf0/04-actions.jpg 2000w"
        sizes="(max-width: 1000px) 100vw, 1000px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></span>
<p>The actions for each tweet are coming from the backend in a <span><code class="language-text">TimelineItem.content.feedbackInfo.feedbackKeys</code></span> array and are linked with the tweets via the <span><code class="language-text">ActionKey</code></span>:</p>
<span><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">TimelineResponse</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token punctuation">{</span>
      home_timeline_urt<span class="token operator">:</span> <span class="token punctuation">{</span>
        instructions<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineAddEntries <span class="token operator">|</span> TimelineTerminateTimeline<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        responseObjects<span class="token operator">:</span> <span class="token punctuation">{</span>
          feedbackActions<span class="token operator">:</span> TimelineAction<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- Here</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineItem</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  sortIndex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    __typename<span class="token operator">:</span> <span class="token string">'TimelineTimelineItem'</span><span class="token punctuation">;</span>
    itemContent<span class="token operator">:</span> TimelineTweet<span class="token punctuation">;</span>
    feedbackInfo<span class="token operator">:</span> <span class="token punctuation">{</span>
      feedbackKeys<span class="token operator">:</span> ActionKey<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ['-1378668161'] &lt;-- Here</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineAction</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> ActionKey<span class="token punctuation">;</span> <span class="token comment">// '-609233128'</span>
  value<span class="token operator">:</span> <span class="token punctuation">{</span>
    feedbackType<span class="token operator">:</span> <span class="token string">'NotRelevant'</span> <span class="token operator">|</span> <span class="token string">'DontLike'</span> <span class="token operator">|</span> <span class="token string">'SeeFewer'</span><span class="token punctuation">;</span> <span class="token comment">// ...</span>
    prompt<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'This post isnt relevant' | 'Not interested in this post' | ...</span>
    confirmation<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'Thanks. Youll see fewer posts like this.'</span>
    childKeys<span class="token operator">:</span> ActionKey<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ['1192182653', '-1427553257'], i.e. NotInterested -> SeeFewer</span>
    feedbackUrl<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '/2/timeline/feedback.json?feedback_type=NotRelevant&amp;action_metadata=SRwW6oXZadPHiOczBBaAwPanEwE%3D'</span>
    hasUndoAction<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    icon<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'Frown'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div></span>
<p>It is interesting here that this flat array of actions is actually a tree (or a graph? I didn&#x27;t check), since each action may have child actions (see the <span><code class="language-text">TimelineAction.value.childKeys</code></span> array). This makes sense, for example, when after the user clicks on the <strong>&quot;Don&#x27;t Like&quot;</strong> action, the follow-up might be to show the <strong>&quot;This post isnt relevant&quot;</strong> action, as a way of explaining why the user doesn&#x27;t like the tweet.</p>
<h2 id="tweet-detail-page" style="position:relative">Tweet detail page<a href="#tweet-detail-page" aria-label="tweet detail page permalink" class="gatsby-remark-autolink-header-anchor after"><span><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></span></a></h2>
<p>Once the user would like to see the tweet detail page (i.e. to see the thread of comments/tweets), the user clicks on the tweet and the <span><code class="language-text">GET</code></span> request to the following endpoint is performed:</p>
<span><div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">GET https://x.com/i/api/graphql/{query-id}/TweetDetail?variables={"focalTweetId":"1867231621095096312","referrer":"home","controller_data":"DACABBSQ","rankingMode":"Relevance","includePromotedContent":true,"withCommunity":true}&amp;features={"articles_preview_enabled":true}</code></pre></div></span>
<p>I was curious here why the list of tweets is being fetched via the <span><code class="language-text">POST</code></span> call, but each tweet detail is fetched via the <span><code class="language-text">GET</code></span> call. Seems inconsistent. Especially keeping in mind that similar query parameters like <span><code class="language-text">query-id</code></span>, <span><code class="language-text">features</code></span>, and others this time are passed in the URL and not in the request body. The response format is also similar and is re-using the types from the list call. I&#x27;m not sure why is that. But again, I&#x27;m sure I might be might be missing some background complexity here.</p>
<p>Here are the simplified response body types:</p>
<span><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">TweetDetailResponse</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    threaded_conversation_with_injections_v2<span class="token operator">:</span> <span class="token punctuation">{</span>
      instructions<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineAddEntries <span class="token operator">|</span> TimelineTerminateTimeline<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineAddEntries</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'TimelineAddEntries'</span><span class="token punctuation">;</span>
  entries<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineItem <span class="token operator">|</span> TimelineCursor <span class="token operator">|</span> TimelineModule<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineTerminateTimeline</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'TimelineTerminateTimeline'</span><span class="token punctuation">,</span>
  direction<span class="token operator">:</span> <span class="token string">'Top'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineModule</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'conversationthread-58668734545929871193'</span>
  sortIndex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867231621095096312'</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    __typename<span class="token operator">:</span> <span class="token string">'TimelineTimelineModule'</span><span class="token punctuation">;</span>
    items<span class="token operator">:</span> <span class="token punctuation">{</span>
      entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// 'conversationthread-1866876425669871193-tweet-1866876038930951193'</span>
      item<span class="token operator">:</span> TimelineTweet<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Comments to the tweets are also tweets</span>
    displayType<span class="token operator">:</span> <span class="token string">'VerticalConversation'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div></span>
<p>The response is pretty similar (in its types) to the list response, so we won&#x27;t for too long here.</p>
<p>One interesting nuance is that the &quot;comments&quot; (or conversations) of each tweet are actually other tweets (see the <span><code class="language-text">TimelineModule</code></span> type). So the tweet thread looks very similar to the home timeline feed by showing the list of <span><code class="language-text">TimelineTweet</code></span> entries. This looks elegant. A good example of a universal and re-usable approach to the API design.</p>
<h2 id="liking-the-tweet" style="position:relative">Liking the tweet<a href="#liking-the-tweet" aria-label="liking the tweet permalink" class="gatsby-remark-autolink-header-anchor after"><span><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></span></a></h2>
<p>When a user likes the tweet, the <span><code class="language-text">POST</code></span> request to the following endpoint is being performed:</p>
<span><div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">POST https://x.com/i/api/graphql/{query-id}/FavoriteTweet</code></pre></div></span>
<p>Here is the <strong>request</strong> body types:</p>
<span><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">FavoriteTweetRequest</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  variables<span class="token operator">:</span> <span class="token punctuation">{</span>
    tweet_id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867041249938530657'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  queryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'lI07N61twFgted2EgXILM7A'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div></span>
<p>Here is the <strong>response</strong> body types:</p>
<span><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">FavoriteTweetResponse</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    favorite_tweet<span class="token operator">:</span> <span class="token string">'Done'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></span>
<p>Looks straightforward and also resembles the RPC-like approach to the API design.</p>
<h2 id="conclusion" style="position:relative">Conclusion<a href="#conclusion" aria-label="conclusion permalink" class="gatsby-remark-autolink-header-anchor after"><span><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></span></a></h2>
<p>We have touched on some basic parts of the home timeline API design by looking at X&#x27;s API example. I made some assumptions along the way to the best of my knowledge. I believe some things I might have interpreted incorrectly and I might have missed some complex nuances. But even with that in mind, I hope you got some useful insights from this high-level overview, something that you could apply in your next API Design session.</p>
<p>Initially, I had a plan to go through similar top-tech websites to get some insights from Facebook, Reddit, YouTube, and others and to collect battle-tested best practices and solutions. I&#x27;m not sure if I&#x27;ll find the time to do that. Will see. But it could be an interesting exercise.</p>
<h2 id="upd-2025-12-18" style="position:relative">UPD (2025-12-18)<a href="#upd-2025-12-18" aria-label="upd 2025 12 18 permalink" class="gatsby-remark-autolink-header-anchor after"><span><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></span></a></h2>
<blockquote>
<p>Based on the X thread from <a href="https://x.com/UriGoldshtein/status/1869403702668214451">@UriGoldshtein</a></p>
<p>&quot;He (trekhleb) says they are not using &quot;pure GraphQL&quot; because they are not sending the query over the network - but that&#x27;s exactly how you should use GraphQL - using &quot;Persisted/Trusted queries&quot;. That makes GraphQL a developer time tool, not a runtime feature. Which means you can basically think of each query is a REST endpoint, but instead of writing code to create controllers and endpoints, it is done automatically for you using static, type-safe, graph queries that at build time turn into endpoints and a secure allow list. It also means you don&#x27;t need to upload the whole query body, just the query id. You 100% should use trusted documents for you GraphQL API and X is obviously doing it!&quot;</p>
<p>&quot;He (trekhleb) was asking &quot;I was curious here why the list of tweets is being fetched via the POST call, but each tweet detail is fetched via the GET call&quot;. My uneducated guess is that because a single tweet is more static content compared to the list of tweets that might change based on many things, with GET it could use simple, popular and existing caching mechanisms. That is another misconception about GraphQL - it can use both GET and POST and as we discussed before - if you use (and you should) trust documents, you basically create GET endpoints that are easily cacheable.&quot;</p>
</blockquote>
<h2 id="appendix-all-types-in-one-place" style="position:relative">Appendix: All types in one place<a href="#appendix-all-types-in-one-place" aria-label="appendix all types in one place permalink" class="gatsby-remark-autolink-header-anchor after"><span><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></span></a></h2>
<p>For the reference, I&#x27;m adding all types in one go here. You may also find all types in <a href="https://github.com/trekhleb/trekhleb.github.io/blob/master/src/posts/2024/api-design-x-home-timeline/types/x.ts">types/x.ts</a> file.</p>
<span><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token comment">/**
 * This file contains the simplified types for X's (Twitter's) home timeline API.
 *
 * These types are created for exploratory purposes, to see the current implementation
 * of the X's API, to see how they fetch Home Feed, how they do a pagination and sorting,
 * and how they pass the hierarchical entities (posts, media, user info, etc).
 *
 * Many properties and types are omitted for simplicity.
 */</span>

<span class="token comment">// POST https://x.com/i/api/graphql/{query-id}/HomeTimeline</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">TimelineRequest</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  queryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 's6ERr1UxkxxBx4YundNsXw'</span>
  variables<span class="token operator">:</span> <span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
    cursor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'DAAACgGBGedb3Vx__9sKAAIZ5g4QENc99AcAAwAAIAIAAA'</span>
    seenTweetIds<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ['1867041249938530657', '1867041249938530658']</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  features<span class="token operator">:</span> Features<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// POST https://x.com/i/api/graphql/{query-id}/HomeTimeline</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">TimelineResponse</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token punctuation">{</span>
      home_timeline_urt<span class="token operator">:</span> <span class="token punctuation">{</span>
        instructions<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineAddEntries <span class="token operator">|</span> TimelineTerminateTimeline<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        responseObjects<span class="token operator">:</span> <span class="token punctuation">{</span>
          feedbackActions<span class="token operator">:</span> TimelineAction<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// POST https://x.com/i/api/graphql/{query-id}/FavoriteTweet</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">FavoriteTweetRequest</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  variables<span class="token operator">:</span> <span class="token punctuation">{</span>
    tweet_id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867041249938530657'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  queryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'lI07N6OtwFgted2EgXILM7A'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// POST https://x.com/i/api/graphql/{query-id}/FavoriteTweet</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">FavoriteTweetResponse</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    favorite_tweet<span class="token operator">:</span> <span class="token string">'Done'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// GET https://x.com/i/api/graphql/{query-id}/TweetDetail?variables={"focalTweetId":"1867041249938530657","referrer":"home","controller_data":"DACABBSQ","rankingMode":"Relevance","includePromotedContent":true,"withCommunity":true}&amp;features={"articles_preview_enabled":true}</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">TweetDetailResponse</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    threaded_conversation_with_injections_v2<span class="token operator">:</span> <span class="token punctuation">{</span>
      instructions<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineAddEntries <span class="token operator">|</span> TimelineTerminateTimeline<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">Features</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  articles_preview_enabled<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  view_counts_everywhere_api_enabled<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineAction</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> ActionKey<span class="token punctuation">;</span> <span class="token comment">// '-609233128'</span>
  value<span class="token operator">:</span> <span class="token punctuation">{</span>
    feedbackType<span class="token operator">:</span> <span class="token string">'NotRelevant'</span> <span class="token operator">|</span> <span class="token string">'DontLike'</span> <span class="token operator">|</span> <span class="token string">'SeeFewer'</span><span class="token punctuation">;</span> <span class="token comment">// ...</span>
    prompt<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'This post isnt relevant' | 'Not interested in this post' | ...</span>
    confirmation<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'Thanks. Youll see fewer posts like this.'</span>
    childKeys<span class="token operator">:</span> ActionKey<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ['1192182653', '-1427553257'], i.e. NotInterested -> SeeFewer</span>
    feedbackUrl<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '/2/timeline/feedback.json?feedback_type=NotRelevant&amp;action_metadata=SRwW6oXZadPHiOczBBaAwPanEwE%3D'</span>
    hasUndoAction<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    icon<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'Frown'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineAddEntries</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'TimelineAddEntries'</span><span class="token punctuation">;</span>
  entries<span class="token operator">:</span> <span class="token punctuation">(</span>TimelineItem <span class="token operator">|</span> TimelineCursor <span class="token operator">|</span> TimelineModule<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineTerminateTimeline</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'TimelineTerminateTimeline'</span><span class="token punctuation">,</span>
  direction<span class="token operator">:</span> <span class="token string">'Top'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineCursor</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'cursor-top-1867041249938530657'</span>
  sortIndex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867231621095096312'</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    __typename<span class="token operator">:</span> <span class="token string">'TimelineTimelineCursor'</span><span class="token punctuation">;</span>
    value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'DACBCgABGedb4VyaJwuKbIIZ40cX3dYwGgaAAwAEAEEAA'</span>
    cursorType<span class="token operator">:</span> <span class="token string">'Top'</span> <span class="token operator">|</span> <span class="token string">'Bottom'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineItem</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'tweet-1867041249938530657'</span>
  sortIndex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867231621095096312'</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    __typename<span class="token operator">:</span> <span class="token string">'TimelineTimelineItem'</span><span class="token punctuation">;</span>
    itemContent<span class="token operator">:</span> TimelineTweet<span class="token punctuation">;</span>
    feedbackInfo<span class="token operator">:</span> <span class="token punctuation">{</span>
      feedbackKeys<span class="token operator">:</span> ActionKey<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ['-1378668161']</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineModule</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'conversationthread-1867041249938530657'</span>
  sortIndex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867231621095096312'</span>
  content<span class="token operator">:</span> <span class="token punctuation">{</span>
    __typename<span class="token operator">:</span> <span class="token string">'TimelineTimelineModule'</span><span class="token punctuation">;</span>
    items<span class="token operator">:</span> <span class="token punctuation">{</span>
      entryId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// 'conversationthread-1867041249938530657-tweet-1867041249938530657'</span>
      item<span class="token operator">:</span> TimelineTweet<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Comments to the tweets are also tweets</span>
    displayType<span class="token operator">:</span> <span class="token string">'VerticalConversation'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TimelineTweet</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  __typename<span class="token operator">:</span> <span class="token string">'TimelineTweet'</span><span class="token punctuation">;</span>
  tweet_results<span class="token operator">:</span> <span class="token punctuation">{</span>
    result<span class="token operator">:</span> Tweet<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">Tweet</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  __typename<span class="token operator">:</span> <span class="token string">'Tweet'</span><span class="token punctuation">;</span>
  core<span class="token operator">:</span> <span class="token punctuation">{</span>
    user_results<span class="token operator">:</span> <span class="token punctuation">{</span>
      result<span class="token operator">:</span> User<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  views<span class="token operator">:</span> <span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '13763'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  legacy<span class="token operator">:</span> <span class="token punctuation">{</span>
    bookmark_count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 358</span>
    created_at<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'Tue Dec 10 17:41:28 +0000 2024'</span>
    conversation_id_str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867041249938530657'</span>
    display_text_range<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// [0, 58]</span>
    favorite_count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 151</span>
    full_text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">//  "How I'd promote my startup, if I had 0 followers (Part 1)"</span>
    lang<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'en'</span>
    quote_count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    reply_count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    retweet_count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    user_id_str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867041249938530657'</span>
    id_str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867041249938530657'</span>
    entities<span class="token operator">:</span> <span class="token punctuation">{</span>
      media<span class="token operator">:</span> Media<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      hashtags<span class="token operator">:</span> Hashtag<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      urls<span class="token operator">:</span> Url<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      user_mentions<span class="token operator">:</span> UserMention<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">User</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  __typename<span class="token operator">:</span> <span class="token string">'User'</span><span class="token punctuation">;</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'VXNlcjoxNDUxM4ADSG44MTA4NDc4OTc2'</span>
  rest_id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867041249938530657'</span>
  is_blue_verified<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  profile_image_shape<span class="token operator">:</span> <span class="token string">'Circle'</span><span class="token punctuation">;</span> <span class="token comment">// ...</span>
  legacy<span class="token operator">:</span> <span class="token punctuation">{</span>
    following<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    created_at<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'Thu Oct 21 09:30:37 +0000 2021'</span>
    description<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'I help startup founders double their MRR with outside-the-box marketing cheat sheets'</span>
    favourites_count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 22195</span>
    followers_count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 25658</span>
    friends_count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    location<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'San Francisco'</span>
    media_count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">//  'John Doe'</span>
    profile_banner_url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'https://pbs.twimg.com/profile_banners/4863509452891265813/4863509'</span>
    profile_image_url_https<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'https://pbs.twimg.com/profile_images/4863509452891265813/4863509_normal.jpg'</span>
    screen_name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'johndoe'</span>
    url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'https://t.co/dgTEddFGDd'</span>
    verified<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">Media</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  display_url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'pic.x.com/X7823zS3sNU'</span>
  expanded_url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'https://x.com/johndoe/status/1867041249938530657/video/1'</span>
  ext_alt_text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'Image of two bridges.'</span>
  id_str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867041249938530657'</span>
  indices<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// [93, 116]</span>
  media_key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '13_2866509231399826944'</span>
  media_url_https<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'https://pbs.twimg.com/profile_images/1867041249938530657/4863509_normal.jpg'</span>
  source_status_id_str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867041249938530657'</span>
  source_user_id_str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '1867041249938530657'</span>
  type<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'video'</span>
  url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'https://t.co/X78dBgtrsNU'</span>
  features<span class="token operator">:</span> <span class="token punctuation">{</span>
    large<span class="token operator">:</span> <span class="token punctuation">{</span> faces<span class="token operator">:</span> FaceGeometry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    medium<span class="token operator">:</span> <span class="token punctuation">{</span> faces<span class="token operator">:</span> FaceGeometry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    small<span class="token operator">:</span> <span class="token punctuation">{</span> faces<span class="token operator">:</span> FaceGeometry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    orig<span class="token operator">:</span> <span class="token punctuation">{</span> faces<span class="token operator">:</span> FaceGeometry<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  sizes<span class="token operator">:</span> <span class="token punctuation">{</span>
    large<span class="token operator">:</span> MediaSize<span class="token punctuation">;</span>
    medium<span class="token operator">:</span> MediaSize<span class="token punctuation">;</span>
    small<span class="token operator">:</span> MediaSize<span class="token punctuation">;</span>
    thumb<span class="token operator">:</span> MediaSize<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  video_info<span class="token operator">:</span> VideoInfo<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">UserMention</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  id_str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// '98008038'</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'Yann LeCun'</span>
  screen_name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'ylecun'</span>
  indices<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// [115, 122]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">Hashtag</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  indices<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// [257, 263]</span>
  text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">Url</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  display_url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'google.com'</span>
  expanded_url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'http://google.com'</span>
  url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'https://t.co/nZh3aF0Aw6'</span>
  indices<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// [102, 125]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">VideoInfo</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  aspect_ratio<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// [427, 240]</span>
  duration_millis<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 20000</span>
  variants<span class="token operator">:</span> <span class="token punctuation">{</span>
    bitrate<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 288000</span>
    content_type<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'application/x-mpegURL' | 'video/mp4' | ...</span>
    url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 'https://video.twimg.com/amplify_video/18665094345456w6944/pl/-ItQau_LRWedR-W7.m3u8?tag=14'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">FaceGeometry</span> <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> h<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> w<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">MediaSize</span> <span class="token operator">=</span> <span class="token punctuation">{</span> h<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> w<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> resize<span class="token operator">:</span> <span class="token string">'fit'</span> <span class="token operator">|</span> <span class="token string">'crop'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">ActionKey</span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">;</span></code></pre></div></span></article></div><div class="flex flex-row justify-center items-center mt-16"><div class="max-w-md"><div class="bg-white rounded-md shadow-md p-8"><h1 class="text-grey-darkest uppercase font-bold text-xl mb-3">Subscribe to the Newsletter</h1><p class="text-sm mb-3">Get my latest posts and project updates by email</p><form action="https://dev.us1.list-manage.com/subscribe/post?u=7714f14ff32085c685da2cfaa&amp;amp;id=53ffa81463" method="post" class="flex flex-col"><input placeholder="First Name" type="text" name="FNAME" class="border py-2 px-3 mb-3 rounded border-gray-300 border-solid appearance-none" required=""/><input placeholder="Email" type="email" name="EMAIL" class="border py-2 px-3 mb-3 rounded border-gray-300 border-solid appearance-none" required=""/><div class="hidden" aria-hidden="true"><input type="text" name="b_7714f14ff32085c685da2cfaa_53ffa81463" tabindex="-1"/></div><input type="submit" class="transition duration-200 ease-in-out bg-black text-white py-2 px-3 rounded shadow-sm cursor-pointer hover:bg-gray-800" value="Subscribe"/></form></div></div></div></article><footer class="flex flex-col justify-center items-center px-6 sm:px-12 py-12"><div class="flex flex-row items-center mb-6"><a class="transition duration-200 ease-in-out flex flex-row items-center hover:text-red-600 text-xs mr-5" href="/subscribe/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"></path></svg><span class="w-2"></span>Subscribe</a><a class="transition duration-200 ease-in-out flex flex-row items-center hover:text-red-600 text-xs" href="/rss.xml"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg><span class="w-2"></span>RSS</a></div><div style="flex:1" class="flex flex-row items-center justify-center"><ul class="flex flex-row flex-wrap "><li class="flex flex-row items-center last:mr-0 mr-2 ml-2"><a href="https://www.linkedin.com/in/trekhleb/" class="transition duration-200 ease-in-out flex flex-row items-center hover:text-red-600 " title="Oleksii Trekhleb on LinkedIn"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li class="flex flex-row items-center last:mr-0 mr-2 ml-2"><a href="https://github.com/trekhleb" class="transition duration-200 ease-in-out flex flex-row items-center hover:text-red-600 " title="Oleksii Trekhleb on GitHub"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li class="flex flex-row items-center last:mr-0 mr-2 ml-2"><a href="https://x.com/trekhleb" class="transition duration-200 ease-in-out flex flex-row items-center hover:text-red-600 " title="Oleksii Trekhleb on X"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="w-5 h-5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li></ul><div class="ml-3"><a href="https://war.ukraine.ua/" class="transition duration-200 ease-in-out flex flex-row items-center hover:text-red-600 text-2xl leading-4" title="Help Ukraine to survive the russian invasion"></a></div></div></footer></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-YJ73BX984Z"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-YJ73BX984Z', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2024/api-design-x-home-timeline/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-aa6da1269156bb5ff60b.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-56a2b19bbf850be751db.js\"],\"component---src-pages-blog-tsx\":[\"/component---src-pages-blog-tsx-3f595add7c119e841a9a.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-77c3e45b553f07c584e0.js\"],\"component---src-pages-projects-tsx\":[\"/component---src-pages-projects-tsx-9fb09990665d5d3e621f.js\"],\"component---src-pages-publications-tsx\":[\"/component---src-pages-publications-tsx-dedf42f1c8ac897ae2c1.js\"],\"component---src-pages-subscribe-confirm-index-tsx\":[\"/component---src-pages-subscribe-confirm-index-tsx-b4570d1c3218650c66af.js\"],\"component---src-pages-subscribe-index-tsx\":[\"/component---src-pages-subscribe-index-tsx-285c35c0d426c1f2b444.js\"],\"component---src-pages-subscribe-thanks-index-tsx\":[\"/component---src-pages-subscribe-thanks-index-tsx-059dd72fbf20e665225f.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2017-dangerous-step-from-agile-to-fragile-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2017-dangerous-step-from-agile-to-fragile-index-md-bd55ab6bbefbe6c02f76.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2017-docker-whale-in-digital-ocean-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2017-docker-whale-in-digital-ocean-index-md-7f79fc2c524b0deb486e.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2017-how-to-create-aot-jit-compatible-angular-4-library-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2017-how-to-create-aot-jit-compatible-angular-4-library-index-md-3523dbfb4c4f86f5aca5.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2017-if-you-ever-used-subway-you-should-know-what-binary-search-tree-is-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2017-if-you-ever-used-subway-you-should-know-what-binary-search-tree-is-index-md-b40b5f76a3332f795c69.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2017-solid-principles-around-you-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2017-solid-principles-around-you-index-md-bb2289bf2e5b939b6d59.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2018-aggregatus-service-is-live-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2018-aggregatus-service-is-live-index-md-3363c8fec74c1efa7d38.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2018-algorithms-and-data-structures-in-javascript-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2018-algorithms-and-data-structures-in-javascript-index-md-de008122bd0d85775ce5.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2018-dynamic-programming-vs-divide-and-conquer-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2018-dynamic-programming-vs-divide-and-conquer-index-md-d9f6caab384c340046d7.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2018-extend-your-limits-rather-than-your-ambitions-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2018-extend-your-limits-rather-than-your-ambitions-index-md-f77db01197373cb500df.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2018-gift-of-24-hours-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2018-gift-of-24-hours-index-md-f3576b1dadf86bfc6fba.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2018-homemade-machine-learning-in-python-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2018-homemade-machine-learning-in-python-index-md-06b5960abe60351da334.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2018-links-to-promote-your-next-startup-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2018-links-to-promote-your-next-startup-index-md-a030500c8c73a2437810.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2018-machine-learning-in-matlaboctave-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2018-machine-learning-in-matlaboctave-index-md-5057da084adc918e7bc2.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2018-permutations-combinations-cheat-sheet-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2018-permutations-combinations-cheat-sheet-index-md-23e01d19f67fb81b858b.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2018-playground-and-cheatsheet-for-learning-python-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2018-playground-and-cheatsheet-for-learning-python-index-md-ba546394f2c64441b2fc.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2018-playing-with-discrete-fourier-transform-algorithm-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2018-playing-with-discrete-fourier-transform-algorithm-index-md-66897346456aaf799243.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2018-top-33-javascript-projects-on-github-august-2018-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2018-top-33-javascript-projects-on-github-august-2018-index-md-1c41954d842da4b678d5.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2019-most-trending-jupyter-notebooks-of-december-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2019-most-trending-jupyter-notebooks-of-december-index-md-6bbc550285c4556f03b5.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2019-nano-neuron-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2019-nano-neuron-index-md-d6623de28e0952e33af2.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2019-react-useposition-hook-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2019-react-useposition-hook-index-md-e87236ed9d733fed5552.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2019-technical-interview-preparation-checklist-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2019-technical-interview-preparation-checklist-index-md-4304260a8ecba519f9dd.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2020-coronavirus-covid-19-dashboard-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2020-coronavirus-covid-19-dashboard-index-md-7bc62aa4fcb87721eae0.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2020-machine-learning-experiments-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2020-machine-learning-experiments-index-md-35819f4e3c55a9fca22d.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2020-printed-links-detection-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2020-printed-links-detection-index-md-adb3d2b26b2fcdb0f1e3.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2020-recipes-generation-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2020-recipes-generation-index-md-db1a9ddd2a8bc8e0f982.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2020-state-of-the-art-shitcode-principles-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2020-state-of-the-art-shitcode-principles-index-md-e25be1e2971f01978bfa.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2020-this-is-how-social-media-could-ruin-your-happiness-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2020-this-is-how-social-media-could-ruin-your-happiness-index-md-773d21abf6e64c5a117d.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2020-top-33-javascript-projects-on-github-december-index-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2020-top-33-javascript-projects-on-github-december-index-md-e5e768b4e183d261c032.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2021-binary-floating-point-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2021-binary-floating-point-index-mdx-b9268f30306799d3e906.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2021-content-aware-image-resizing-in-javascript-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2021-content-aware-image-resizing-in-javascript-index-mdx-ede99b4fcd5371a1a27f.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2021-gyro-web-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2021-gyro-web-index-mdx-ecf87de2e08b965cbcce.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2021-self-parking-car-evolution-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2021-self-parking-car-evolution-index-mdx-fba6c003412eb8062c0b.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2021-top-33-javascript-projects-on-github-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2021-top-33-javascript-projects-on-github-index-mdx-01b110bed2ae167bbd80.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2022-data-structure-sketches-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2022-data-structure-sketches-index-mdx-f192dbe3f9cc16550cd2.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2022-okso-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2022-okso-index-mdx-ba48326a5f5f2458862b.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2022-solid-principles-sketches-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2022-solid-principles-sketches-index-mdx-5741ddac6601ed5a0d78.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2023-micrograd-ts-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2023-micrograd-ts-index-mdx-e46ab45c7885430e4715.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2023-observations-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2023-observations-index-mdx-1bb24883f7231ab2e02b.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-api-design-x-home-timeline-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-api-design-x-home-timeline-index-mdx-d81440dab07cf00f66d6.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-system-design-sketches-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-system-design-sketches-index-mdx-1d06c881f4dc7d2c3af5.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-jobs-radar-index-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-jobs-radar-index-mdx-4338b68b915873f9e99c.js\"],\"component---src-templates-project-tsx\":[\"/component---src-templates-project-tsx-e4dbdfb0bd90f2d2866a.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="2a6a1cfef6daaf34b9e8";</script><script src="/webpack-runtime-67d358f8dcb539009a33.js" async></script><script src="/framework-dffef80c3dd9823eec87.js" async></script><script src="/app-aa6da1269156bb5ff60b.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>